<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en"><head>
    <title>Ruby on Rails Tutorial: Learn Rails by Example book and screencasts by Michael Hartl | Filling In The Layout</title>
    <meta http-equiv="Content-type" content="text/html; charset=UTF-8">
<meta name="robots" content="all">
<meta name="MSSmartTagsPreventParsing" content="true">
<meta name="description" content="Ruby on Rails Tutorial: Learn Rails by Example by Michael Hartl">
<meta name="keywords" content="Learn Ruby Rails Tutorial website development Rails 3">
<meta name="author" content="Michael Hartl">
<meta property="og:title" content="Ruby on Rails Tutorial: Learn Rails by Example">
<meta property="og:site_name" content="Ruby on Rails Tutorial">
<meta property="og:image" content="http://railstutorial.org/images/layout/logo.png">
<meta property="og:url" content="http://railstutorial.org/">
<meta property="og:type" content="article">
<meta property="og:description" content="Ruby on Rails Tutorial: Learn Rails by Example by Michael Hartl teaches web development with Ruby on Rails. Rails Tutorial is fully up-to-date with Rails 3.0.">
    <link href="filling-in-the-layout_files/polytexnic.css" media="screen" rel="stylesheet" type="text/css">
    <link href="filling-in-the-layout_files/pygments.css" media="screen" rel="stylesheet" type="text/css">

      <link href="filling-in-the-layout_files/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
      
    <link href="filling-in-the-layout_files/print.css" media="print" rel="stylesheet" type="text/css">
    <!--[if lte IE 7]><link href="/stylesheets/ie.css?1327637875" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
    <!--[if lt IE 7]>  <div style='border: 1px solid #F7941D; background: #FEEFDA; text-align: center; clear: both; height: 75px; position: relative;'>    <div style='position: absolute; right: 3px; top: 3px; font-family: courier new; font-weight: bold;'><a href='#' onclick='javascript:this.parentNode.parentNode.style.display="none"; return false;'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-cornerx.jpg' style='border: none;' alt='Close this notice'/></a></div>    <div style='width: 640px; margin: 0 auto; text-align: left; padding: 0; overflow: hidden; color: black;'>      <div style='width: 75px; float: left;'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-warning.jpg' alt='Warning!'/></div>      <div style='width: 275px; float: left; font-family: Arial, sans-serif;'>        <div style='font-size: 14px; font-weight: bold; margin-top: 12px;'>You are using an outdated browser</div>        <div style='font-size: 12px; margin-top: 6px; line-height: 12px;'>For a better experience using this site, please upgrade to a modern web browser.</div>      </div>      <div style='width: 75px; float: left;'><a href='http://www.firefox.com' target='_blank'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-firefox.jpg' style='border: none;' alt='Get Firefox 3.5'/></a></div>      <div style='width: 75px; float: left;'><a href='http://www.browserforthebetter.com/download.html' target='_blank'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-ie8.jpg' style='border: none;' alt='Get Internet Explorer 8'/></a></div>      <div style='width: 73px; float: left;'><a href='http://www.apple.com/safari/download/' target='_blank'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-safari.jpg' style='border: none;' alt='Get Safari 4'/></a></div>      <div style='float: left;'><a href='http://www.google.com/chrome' target='_blank'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-chrome.jpg' style='border: none;' alt='Get Google Chrome'/></a></div>    </div>  </div>  <![endif]-->
    <link href="http://feeds.feedburner.com/railstutorial" rel="alternate" title="Rails Tutorial News" type="application/rss+xml">

    
    
<script type="text/javascript" src="filling-in-the-layout_files/MathJax.js">
  MathJax.Hub.Config({
    tex2jax: {inlineMath: [['$','$'],["\\(","\\)"]]},
    "HTML-CSS": {
      availableFonts: ["TeX"]
    }
  });
</script>
    
    
  <!-- base href="http://ruby.railstutorial.org/chapters/filling-in-the-layout" -->


  <style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-family: serif; font-size: 85%; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuTitle {background-color: #CCCCCC; margin: -5px 0 0 0; text-align: center; font-style: italic; font-size: 80%; color: #444444; padding: 2px 0; overflow: hidden}
.MathJax_MenuArrow {position: absolute; right: .5em; color: #666666}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
</style><style type="text/css">#MathJax_Message {position: fixed; left: 1px; bottom: 2px; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}
.fb_invisible{display:none}
.fb_reset{background:none;border-spacing:0;border:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size: 11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}
.fb_link img{border:none}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}
.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px}
.fb_dialog_content{background:#fff;color:#333}
.fb_dialog_close_icon{background:url(http://static.ak.fbcdn.net/rsrc.php/v1/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v1/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px;top:8px\9;right:7px\9}
.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}
.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}
.fb_dialog_close_icon:hover{background:url(http://static.ak.fbcdn.net/rsrc.php/v1/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v1/yL/r/s816eWC-2sl.gif)}
.fb_dialog_close_icon:active{background:url(http://static.ak.fbcdn.net/rsrc.php/v1/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v1/yL/r/s816eWC-2sl.gif)}
.fb_dialog_loader{background-color:#f2f2f2;border:1px solid #606060;font-size: 24px;padding:20px}
.fb_dialog_top_left,
.fb_dialog_top_right,
.fb_dialog_bottom_left,
.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}
.fb_dialog_top_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v1/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}
.fb_dialog_top_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v1/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}
.fb_dialog_bottom_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v1/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}
.fb_dialog_bottom_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v1/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}
.fb_dialog_vert_left,
.fb_dialog_vert_right,
.fb_dialog_horiz_top,
.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}
.fb_dialog_vert_left,
.fb_dialog_vert_right{width:10px;height:100%}
.fb_dialog_vert_left{margin-left:-10px}
.fb_dialog_vert_right{right:0;margin-right:-10px}
.fb_dialog_horiz_top,
.fb_dialog_horiz_bottom{width:100%;height:10px}
.fb_dialog_horiz_top{margin-top:-10px}
.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}
.fb_dialog_iframe{line-height:0}
.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3b5998;color:#fff;font-size: 14px;font-weight:bold;margin:0}
.fb_dialog_content .dialog_title > span{background:url(http://static.ak.fbcdn.net/rsrc.php/v1/yd/r/Cou7n-nqK52.gif)
no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}
body.fb_hidden{-webkit-transform:none;height:100%;margin:0;left:-10000px;overflow:visible;position:absolute;top:-10000px;width:100%
}
.fb_dialog.fb_dialog_mobile.loading{background:url(http://static.ak.fbcdn.net/rsrc.php/v1/yO/r/_j03izEX40U.gif)
white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}
.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}
#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}
#fb-root #fb_dialog_ipad_overlay.hidden{display:none}
.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}
.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0 0, 0 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}
.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%
}
.fb_dialog_content .dialog_header td.header_left{font-size: 12px;padding-left:5px;vertical-align:middle;width:60px
}
.fb_dialog_content .dialog_header td.header_right{font-size: 12px;padding-right:5px;vertical-align:middle;width:60px
}
.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0 0, 0 100%, from(#4966A6),
color-stop(0.5, #355492), to(#2A4887));border:1px solid #29447e;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset,
rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}
.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}
.fb_dialog_content .dialog_header .header_center{color:#fff;font-size: 16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}
.fb_dialog_content .dialog_content{background:url(http://static.ak.fbcdn.net/rsrc.php/v1/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}
.fb_dialog_content .dialog_footer{background:#f2f2f2;border:1px solid #555;border-top-color:#ccc;height:40px}
#fb_dialog_loader_close{float:left}
.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}
.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}
.fb_iframe_widget{position:relative;display:-moz-inline-block;display:inline-block}
.fb_iframe_widget iframe{position:relative;vertical-align:text-bottom}
.fb_iframe_widget span{position:relative}
.fb_hide_iframes iframe{position:relative;left:-10000px}
.fb_iframe_widget_loader{position:relative;display:inline-block}
.fb_iframe_widget_fluid{display:inline}
.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}
.fb_iframe_widget_loader .FB_Loader{background:url(http://static.ak.fbcdn.net/rsrc.php/v1/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}
.fb_button_simple,
.fb_button_simple_rtl{background-image:url(http://static.ak.fbcdn.net/rsrc.php/v1/yH/r/eIpbnVKI9lR.png);background-repeat:no-repeat;cursor:pointer;outline:none;text-decoration:none}
.fb_button_simple_rtl{background-position:right 0}
.fb_button_simple .fb_button_text{margin:0 0 0 20px;padding-bottom:1px}
.fb_button_simple_rtl .fb_button_text{margin:0 10px 0 0}
a.fb_button_simple:hover .fb_button_text,
a.fb_button_simple_rtl:hover .fb_button_text,
.fb_button_simple:hover .fb_button_text,
.fb_button_simple_rtl:hover .fb_button_text{text-decoration:underline}
.fb_button,
.fb_button_rtl{background:#29447e url(http://static.ak.fbcdn.net/rsrc.php/v1/yL/r/FGFbc80dUKj.png);background-repeat:no-repeat;cursor:pointer;display:inline-block;padding:0 0 0 1px;text-decoration:none;outline:none}
.fb_button .fb_button_text,
.fb_button_rtl .fb_button_text{background:#5f78ab url(http://static.ak.fbcdn.net/rsrc.php/v1/yL/r/FGFbc80dUKj.png);border-top:solid 1px #879ac0;border-bottom:solid 1px #1a356e;color:#fff;display:block;font-family:"lucida grande",tahoma,verdana,arial,sans-serif;font-weight:bold;padding:2px 6px 3px 6px;margin:1px 1px 0 21px;text-shadow:none}
a.fb_button,
a.fb_button_rtl,
.fb_button,
.fb_button_rtl{text-decoration:none}
a.fb_button:active .fb_button_text,
a.fb_button_rtl:active .fb_button_text,
.fb_button:active .fb_button_text,
.fb_button_rtl:active .fb_button_text{border-bottom:solid 1px #29447e;border-top:solid 1px #45619d;background:#4f6aa3;text-shadow:none}
.fb_button_xlarge,
.fb_button_xlarge_rtl{background-position:left -60px;font-size: 24px;line-height:30px}
.fb_button_xlarge .fb_button_text{padding:3px 8px 3px 12px;margin-left:38px}
a.fb_button_xlarge:active{background-position:left -99px}
.fb_button_xlarge_rtl{background-position:right -268px}
.fb_button_xlarge_rtl .fb_button_text{padding:3px 8px 3px 12px;margin-right:39px}
a.fb_button_xlarge_rtl:active{background-position:right -307px}
.fb_button_large,
.fb_button_large_rtl{background-position:left -138px;font-size: 13px;line-height:16px}
.fb_button_large .fb_button_text{margin-left:24px;padding:2px 6px 4px 6px}
a.fb_button_large:active{background-position:left -163px}
.fb_button_large_rtl{background-position:right -346px}
.fb_button_large_rtl .fb_button_text{margin-right:25px}
a.fb_button_large_rtl:active{background-position:right -371px}
.fb_button_medium,
.fb_button_medium_rtl{background-position:left -188px;font-size: 11px;line-height:14px}
a.fb_button_medium:active{background-position:left -210px}
.fb_button_medium_rtl{background-position:right -396px}
.fb_button_text_rtl,
.fb_button_medium_rtl .fb_button_text{padding:2px 6px 3px 6px;margin-right:22px}
a.fb_button_medium_rtl:active{background-position:right -418px}
.fb_button_small,
.fb_button_small_rtl{background-position:left -232px;font-size: 10px;line-height:10px}
.fb_button_small .fb_button_text{padding:2px 6px 3px;margin-left:17px}
a.fb_button_small:active,
.fb_button_small:active{background-position:left -250px}
.fb_button_small_rtl{background-position:right -440px}
.fb_button_small_rtl .fb_button_text{padding:2px 6px;margin-right:18px}
a.fb_button_small_rtl:active{background-position:right -458px}
.fb_share_count_wrapper{position:relative;float:left}
.fb_share_count{background:#b0b9ec none repeat scroll 0 0;color:#333;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;text-align:center}
.fb_share_count_inner{background:#e8ebf2;display:block}
.fb_share_count_right{margin-left:-1px;display:inline-block}
.fb_share_count_right .fb_share_count_inner{border-top:solid 1px #e8ebf2;border-bottom:solid 1px #b0b9ec;margin:1px 1px 0 1px;font-size: 10px;line-height:10px;padding:2px 6px 3px;font-weight:bold}
.fb_share_count_top{display:block;letter-spacing:-1px;line-height:34px;margin-bottom:7px;font-size: 22px;border:solid 1px #b0b9ec}
.fb_share_count_nub_top{border:none;display:block;position:absolute;left:7px;top:35px;margin:0;padding:0;width:6px;height:7px;background-repeat:no-repeat;background-image:url(http://static.ak.fbcdn.net/rsrc.php/v1/yU/r/bSOHtKbCGYI.png)}
.fb_share_count_nub_right{border:none;display:inline-block;padding:0;width:5px;height:10px;background-repeat:no-repeat;background-image:url(http://static.ak.fbcdn.net/rsrc.php/v1/yX/r/i_oIVTKMYsL.png);vertical-align:top;background-position:right 5px;z-index:10;left:2px;margin:0 2px 0 0;position:relative}
.fb_share_no_count{display:none}
.fb_share_size_Small .fb_share_count_right .fb_share_count_inner{font-size: 10px}
.fb_share_size_Medium .fb_share_count_right .fb_share_count_inner{font-size: 11px;padding:2px 6px 3px;letter-spacing:-1px;line-height:14px}
.fb_share_size_Large .fb_share_count_right .fb_share_count_inner{font-size: 13px;line-height:16px;padding:2px 6px 4px;font-weight:normal;letter-spacing:-1px}
.fb_share_count_hidden .fb_share_count_nub_top,
.fb_share_count_hidden .fb_share_count_top,
.fb_share_count_hidden .fb_share_count_nub_right,
.fb_share_count_hidden .fb_share_count_right{visibility:hidden}
.fb_connect_bar_container div,
.fb_connect_bar_container span,
.fb_connect_bar_container a,
.fb_connect_bar_container img,
.fb_connect_bar_container strong{background:none;border-spacing:0;border:0;direction:ltr;font-style:normal;font-variant:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal;vertical-align:baseline}
.fb_connect_bar_container{position:fixed;left:0 !important;right:0 !important;height:42px !important;padding:0 25px !important;margin:0 !important;vertical-align:middle !important;border-bottom:1px solid #333 !important;background:#3b5998 !important;z-index:99999999 !important;overflow:hidden !important}
.fb_connect_bar_container_ie6{position:absolute;top:expression(document.compatMode=="CSS1Compat"? document.documentElement.scrollTop+"px":body.scrollTop+"px")}
.fb_connect_bar{position:relative;margin:auto;height:100%;width:100%;padding:6px 0 0 0 !important;background:none;color:#fff !important;font-family:"lucida grande", tahoma, verdana, arial, sans-serif !important;font-size: 13px !important;font-style:normal !important;font-variant:normal !important;font-weight:normal !important;letter-spacing:normal !important;line-height:1 !important;text-decoration:none !important;text-indent:0 !important;text-shadow:none !important;text-transform:none !important;white-space:normal !important;word-spacing:normal !important}
.fb_connect_bar a:hover{color:#fff}
.fb_connect_bar .fb_profile img{height:30px;width:30px;vertical-align:middle;margin:0 6px 5px 0}
.fb_connect_bar div a,
.fb_connect_bar span,
.fb_connect_bar span a{color:#bac6da;font-size: 11px;text-decoration:none}
.fb_connect_bar .fb_buttons{float:right;margin-top:7px}
.fb_edge_widget_with_comment{position:relative;*z-index:1000}
.fb_edge_widget_with_comment span.fb_edge_comment_widget{position:absolute}
.fb_edge_widget_with_comment span.fb_edge_comment_widget iframe.fb_ltr{left:-4px}
.fb_edge_widget_with_comment span.fb_edge_comment_widget iframe.fb_rtl{left:2px}
.fb_edge_widget_with_comment span.fb_send_button_form_widget{left:0;z-index:1}
.fb_edge_widget_with_comment span.fb_send_button_form_widget .FB_Loader{left:0;top:1px;margin-top:6px;margin-left:0;background-position:50% 50%;background-color:#fff;height:150px;width:394px;border:1px #666 solid;border-bottom:2px solid #283e6c;z-index:1}
.fb_edge_widget_with_comment span.fb_send_button_form_widget.dark .FB_Loader{background-color:#000;border-bottom:2px solid #ccc}
.fb_edge_widget_with_comment span.fb_send_button_form_widget.siderender
.FB_Loader{margin-top:0}
.fbpluginrecommendationsbarleft,
.fbpluginrecommendationsbarright{position:fixed !important;bottom:0;z-index:999}
/* @noflip */
.fbpluginrecommendationsbarleft{left:10px}
/* @noflip */
.fbpluginrecommendationsbarright{right:10px}
</style></head>
<body class="book"><div style="display: none;" id="MathJax_Message"></div> 

  <div id="container">
    <div id="header" class="clearfix"><div id="title">
  <div id="logo"><a href="http://ruby.railstutorial.org/"><img alt="Logo" src="filling-in-the-layout_files/logo.png"></a></div>
  <h1 id="name">
    <a href="http://ruby.railstutorial.org/">Ruby on Rails Tutorial</a>
  </h1>
  <br>
  <h2 id="authors">
    <a href="http://ruby.railstutorial.org/#author">by Michael Hartl</a>
  </h2>
</div>
</div>
    <div id="menu"><div class="links">
  <div class="box">
    <span>
      <a href="http://ruby.railstutorial.org/">Home</a>
    </span>
    <span class="division">
      |
    </span>
    <span>
      <a href="http://ruby.railstutorial.org/ruby-on-rails-tutorial-book">Book</a>
    </span>
    <span class="division">
      |
    </span>
    <span>
      <a href="http://ruby.railstutorial.org/help">Help</a>
    </span>
    <span class="division">
      |
    </span>
    <span>
      <a href="http://ruby.railstutorial.org/contact">Contact</a>
    </span>
    <span class="division">
      |
    </span>
    <span>
      <a href="http://news.railstutorial.org/">News</a>
    </span>
    <span class="img">
      <a href="http://feeds.feedburner.com/railstutorial"><img alt="Feed-icon16x16" class="feed" src="filling-in-the-layout_files/feed-icon16x16.png"></a>
    </span>
    <!-- %span.division -->
    <!-- 
    -->
    <!-- %span -->
    <!-- = link_to "By Email", email_url -->
    <!-- %span.img -->
    <!-- = link_to email_icon, email_url -->
    <span class="division">
      |
    </span>
    <span>
      <a href="http://twitter.com/railstutorial">Follow</a>
    </span>
    <span>
      <a href="http://twitter.com/railstutorial"><img alt="Twitter-small" src="filling-in-the-layout_files/twitter-small.png"></a>
    </span>
  </div>
</div>
</div>     
      <div id="content">         
        <div id="sidebar">
  <div class="content">
      <!-- = link_to image_tag("icons/feed-icon32x32.png"), feed_url -->
    <!-- = link_to image_tag("icons/twitter.png"), twitter_url -->
    <!-- = link_to image_tag("icons/mail-icons/mail-icon-32x32.png"), email_url -->
    <div id="navtool">
      <table class="layout">
        <tbody><tr>
          <td colspan="2"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#book_menu"><img alt="Up A Level" src="filling-in-the-layout_files/sb_button_up.png"></a></td>
        </tr>
        <tr>
          <td><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#top"><img alt="Previous Chapter" src="filling-in-the-layout_files/sb_button_prev.png"></a></td>
          <td><a href="http://ruby.railstutorial.org/chapters/modeling-users?version=3.2#top"><img alt="Next Chapter" src="filling-in-the-layout_files/sb_button_next.png"></a></td>
        </tr>
      </tbody></table>
      <a href="http://amzn.to/AeryB0"><img alt="Buy Print Edition" src="filling-in-the-layout_files/sb_button_buy_print_edition_red.png"></a>
      <br>
      <a href="http://ruby.railstutorial.org/#buy"><img alt="Buy Screencasts" src="filling-in-the-layout_files/sb_button_buy_screencasts_red.png"></a>
      <div class="connect">
        <table class="center">
          <tbody><tr>
            <td><a href="http://feeds.feedburner.com/railstutorial"><img alt="Feed-icon24x24" src="filling-in-the-layout_files/feed-icon24x24.png" title="Get news updates via RSS"></a></td>
            <td><a href="http://feedburner.google.com/fb/a/mailverify?uri=railstutorial&amp;loc=en_US"><img alt="Mail-icon-24x24" src="filling-in-the-layout_files/mail-icon-24x24.png" title="Get news updates by email"></a></td>
            <td><a href="http://www.facebook.com/pages/Ruby-on-Rails-Tutorial/197151265072"><img alt="Facebook-icon24x24" src="filling-in-the-layout_files/facebook-icon24x24.png" title="Become a fan on Facebook"></a></td>
            <td><a href="http://twitter.com/railstutorial"><img alt="Twitter-icon24x24" src="filling-in-the-layout_files/twitter-icon24x24.png" title="Follow on Twitter"></a></td>
          </tr>
        </tbody></table>
      </div>
      <div class="section">
        <div class="switcher">
          <span class="switcher_link"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout">Rails 3.0</a></span>
          •
          <span class="title round">Rails 3.2</span>
        </div>
        <div class="share"><fb:like class=" fb_edge_widget_with_comment fb_iframe_widget" href="http://railstutorial.org/" show_faces="false" layout="button_count" colorscheme="light"><span><iframe src="filling-in-the-layout_files/like.html" class="fb_ltr" title="Like this content on Facebook." style="border: medium none; overflow: hidden; height: 20px; width: 90px;" name="ffe03830749138" id="f9ae60b4d01954" scrolling="no"></iframe></span></fb:like></div>
      </div>
      <div class="section">
        <a href="http://ruby.railstutorial.org/book?version=3.2#top">
          Read the 2nd edition
        </a>
      </div>
    </div>
    <!-- .section -->
    <!-- Sidebar areas labeled with class "section", like this one, will be styled suitably for text. -->
    <!-- .section -->
    <!-- %a{ :href => '/affiliates' } -->
    <!-- Rails Tutorial Affiliate Program&mdash;50% commissions -->
  </div>
</div>
<!-- %h3 Get Involved -->
<!-- 
-->
<!-- .links -->
<!-- %p.subscribe -->
<!-- %span= link_to(image_tag('feed-icon32x32.png'), feed_url) -->
<!-- = link_to("Subscribe", feed_url) -->
<!-- %p.follow -->
<!-- = link_to(image_tag('twitter.png'), twitter_url) -->
<!-- = link_to("Follow", twitter_url) -->
<!-- 
-->

                      
        <div id="main" class="withsidebar">
          


<div id="book_menu">
  <a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#main_content">skip to content</a>
  |
  <a href="http://ruby.railstutorial.org/book/ruby-on-rails-tutorial?version=3.2">view as single page</a>
</div>


<div id="book_wrap">
  <div id="book_top">
  </div>
    <div id="book">


<h1 class="title">Ruby on Rails Tutorial </h1>


<h1 class="subtitle">  Learn Rails by Example</h1>


<h2 class="author">Michael Hartl</h2>




<h1 class="contents">Contents</h1>


<div id="table_of_contents"><ol><li class="chapter"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#top"><span class="number">Chapter 1</span> From zero to deploy</a></li><li><ol><li class="section"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:introduction"><span class="number">1.1</span> Introduction</a></li><li><ol><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:comments_for_various_readers"><span class="number">1.1.1</span> Comments for various readers</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:1.1.2"><span class="number">1.1.2</span> “Scaling” Rails</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:conventions"><span class="number">1.1.3</span> Conventions in this book</a></li></ol></li><li class="section"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:up_and_running"><span class="number">1.2</span> Up and running</a></li><li><ol><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:development_tools"><span class="number">1.2.1</span> Development environments</a></li><li><ol><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:1.2.1.1">IDEs</a></li><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:1.2.1.2">Text editors and command lines</a></li><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:1.2.1.3">Browsers</a></li><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:1.2.1.4">A note about tools</a></li></ol></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:rubygems"><span class="number">1.2.2</span> Ruby, RubyGems, Rails, and Git</a></li><li><ol><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:rails_installer_windows">Rails Installer (Windows)</a></li><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:install_git">Install Git</a></li><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:install_ruby">Install Ruby</a></li><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:install_rubygems">Install RubyGems</a></li><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:install_rails">Install Rails</a></li></ol></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:the_first_application"><span class="number">1.2.3</span> The first application</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:bundler"><span class="number">1.2.4</span> Bundler</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:rails_server"><span class="number">1.2.5</span> <tt>rails server</tt></a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:mvc"><span class="number">1.2.6</span> Model-view-controller (MVC)</a></li></ol></li><li class="section"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:version_control"><span class="number">1.3</span> Version control with Git</a></li><li><ol><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:git_setup"><span class="number">1.3.1</span> Installation and setup</a></li><li><ol><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:1.3.1.1">First-time system setup</a></li><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:1.3.1.2">First-time repository setup</a></li></ol></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:adding_and_committing"><span class="number">1.3.2</span> Adding and committing</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:1.3.3"><span class="number">1.3.3</span> What good does Git do you?</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:github"><span class="number">1.3.4</span> GitHub</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:git_commands"><span class="number">1.3.5</span> Branch, edit, commit, merge</a></li><li><ol><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:git_branch">Branch</a></li><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:git_edit">Edit</a></li><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:git_commit">Commit</a></li><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:git_merge">Merge</a></li><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:git_push">Push</a></li></ol></li></ol></li><li class="section"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:deploying"><span class="number">1.4</span> Deploying</a></li><li><ol><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:1.4.1"><span class="number">1.4.1</span> Heroku setup</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:heroku_step_one"><span class="number">1.4.2</span> Heroku deployment, step one</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:1.4.3"><span class="number">1.4.3</span> Heroku deployment, step two</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:heroku_commands"><span class="number">1.4.4</span> Heroku commands</a></li></ol></li><li class="section"><a href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:beginning_conclusion"><span class="number">1.5</span> Conclusion</a></li></ol></li><li class="chapter"><a href="http://ruby.railstutorial.org/chapters/a-demo-app?version=3.2#top"><span class="number">Chapter 2</span> A demo app</a></li><li><ol><li class="section"><a href="http://ruby.railstutorial.org/chapters/a-demo-app?version=3.2#sec:planning_the_application"><span class="number">2.1</span> Planning the application</a></li><li><ol><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/a-demo-app?version=3.2#sec:modeling_users"><span class="number">2.1.1</span> Modeling users</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/a-demo-app?version=3.2#sec:modeling_microposts"><span class="number">2.1.2</span> Modeling microposts</a></li></ol></li><li class="section"><a href="http://ruby.railstutorial.org/chapters/a-demo-app?version=3.2#sec:demo_users_resource"><span class="number">2.2</span> The Users resource</a></li><li><ol><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/a-demo-app?version=3.2#sec:a_user_tour"><span class="number">2.2.1</span> A user tour</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/a-demo-app?version=3.2#sec:mvc_in_action"><span class="number">2.2.2</span> MVC in action</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/a-demo-app?version=3.2#sec:weaknesses_of_this_users_resource"><span class="number">2.2.3</span> Weaknesses of this Users resource</a></li></ol></li><li class="section"><a href="http://ruby.railstutorial.org/chapters/a-demo-app?version=3.2#sec:microposts_resource"><span class="number">2.3</span> The Microposts resource</a></li><li><ol><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/a-demo-app?version=3.2#sec:a_micropost_microtour"><span class="number">2.3.1</span> A micropost microtour</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/a-demo-app?version=3.2#sec:putting_the_micro_in_microposts"><span class="number">2.3.2</span> Putting the <em>micro</em> in microposts</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/a-demo-app?version=3.2#sec:demo_user_has_many_microposts"><span class="number">2.3.3</span> A user <tt>has_many</tt> microposts</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/a-demo-app?version=3.2#sec:inheritance_hierarchies"><span class="number">2.3.4</span> Inheritance hierarchies</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/a-demo-app?version=3.2#sec:deploying_the_demo_app"><span class="number">2.3.5</span> Deploying the demo app</a></li></ol></li><li class="section"><a href="http://ruby.railstutorial.org/chapters/a-demo-app?version=3.2#sec:2.4"><span class="number">2.4</span> Conclusion</a></li></ol></li><li class="chapter"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#top"><span class="number">Chapter 3</span> Mostly static pages</a></li><li><ol><li class="section"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:static_pages"><span class="number">3.1</span> Static pages</a></li><li><ol><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:truly_static_pages"><span class="number">3.1.1</span> Truly static pages</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:static_pages_with_rails"><span class="number">3.1.2</span> Static pages with Rails</a></li></ol></li><li class="section"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:first_tests"><span class="number">3.2</span> Our first tests</a></li><li><ol><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:TDD"><span class="number">3.2.1</span> Test-driven development</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:adding_a_page"><span class="number">3.2.2</span> Adding a page</a></li><li><ol><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:red">Red</a></li><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:green">Green</a></li><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:refactor">Refactor</a></li></ol></li></ol></li><li class="section"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:slightly_dynamic_pages"><span class="number">3.3</span> Slightly dynamic pages</a></li><li><ol><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:testing_a_title_change"><span class="number">3.3.1</span> Testing a title change</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:passing_title_tests"><span class="number">3.3.2</span> Passing title tests</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:embedded_ruby"><span class="number">3.3.3</span> Embedded Ruby</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:layouts"><span class="number">3.3.4</span> Eliminating duplication with layouts</a></li></ol></li><li class="section"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:static_pages_conclusion"><span class="number">3.4</span> Conclusion</a></li><li class="section"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:static_pages_exercises"><span class="number">3.5</span> Exercises</a></li><li class="section"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:advanced_setup"><span class="number">3.6</span> Advanced setup</a></li><li><ol><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:eliminating_bundle_exec"><span class="number">3.6.1</span> Eliminating <tt>bundle exec</tt></a></li><li><ol><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:rvm_bundler_integration">RVM Bundler integration</a></li><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:binstubs">binstubs</a></li></ol></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:guard"><span class="number">3.6.2</span> Automated tests with Guard</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:spork"><span class="number">3.6.3</span> Speeding up tests with Spork</a></li><li><ol><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:spork_and_guard">Spork and Guard</a></li></ol></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:tests_inside_sublime_text"><span class="number">3.6.4</span> Tests inside Sublime Text</a></li></ol></li></ol></li><li class="chapter"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#top"><span class="number">Chapter 4</span> Rails-flavored Ruby</a></li><li><ol><li class="section"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:motivation"><span class="number">4.1</span> Motivation</a></li><li><ol><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:title_helper"><span class="number">4.1.1</span> A title helper</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:cascading_style_sheets"><span class="number">4.1.2</span> Cascading Style Sheets</a></li></ol></li><li class="section"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:strings_and_methods"><span class="number">4.2</span> Strings and methods</a></li><li><ol><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:comments"><span class="number">4.2.1</span> Comments</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:strings"><span class="number">4.2.2</span> Strings</a></li><li><ol><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:printing">Printing</a></li><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:single_quoted_strings">Single-quoted strings</a></li></ol></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:objects_and_message_passing"><span class="number">4.2.3</span> Objects and message passing</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:method_definitions"><span class="number">4.2.4</span> Method definitions</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:back_to_the_title_helper"><span class="number">4.2.5</span> Back to the title helper</a></li></ol></li><li class="section"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:other_data_structures"><span class="number">4.3</span> Other data structures</a></li><li><ol><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:arrays_and_ranges"><span class="number">4.3.1</span> Arrays and ranges</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:blocks"><span class="number">4.3.2</span> Blocks</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:hashes_and_symbols"><span class="number">4.3.3</span> Hashes and symbols</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:css_revisited"><span class="number">4.3.4</span> CSS revisited</a></li></ol></li><li class="section"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:ruby_classes"><span class="number">4.4</span> Ruby classes</a></li><li><ol><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:constructors"><span class="number">4.4.1</span> Constructors</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:a_class_of_our_own"><span class="number">4.4.2</span> Class inheritance</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:modifying_built_in_classes"><span class="number">4.4.3</span> Modifying built-in classes</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:a_controller_class"><span class="number">4.4.4</span> A controller class</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:a_user_class"><span class="number">4.4.5</span> A user class</a></li></ol></li><li class="section"><a href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:exercises"><span class="number">4.5</span> Exercises</a></li></ol></li><li class="chapter"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#top"><span class="number">Chapter 5</span> Filling in the layout</a></li><li><ol><li class="section"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:structure"><span class="number">5.1</span> Adding some structure</a></li><li><ol><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:adding_to_the_layout"><span class="number">5.1.1</span> Site navigation</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:custom_css"><span class="number">5.1.2</span> Custom CSS</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:partials"><span class="number">5.1.3</span> Partials</a></li></ol></li><li class="section"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:sass_and_the_asset_pipeline"><span class="number">5.2</span> Sass and the asset pipeline</a></li><li><ol><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:the_asset_pipeline"><span class="number">5.2.1</span> The asset pipeline</a></li><li><ol><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:5.2.1.1">Asset directories</a></li><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:5.2.1.2">Manifest files</a></li><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:5.2.1.3">Preprocessor engines</a></li><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:5.2.1.4">Efficiency in production</a></li></ol></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:sass"><span class="number">5.2.2</span> Syntactically awesome stylesheets</a></li><li><ol><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:5.2.2.1">Nesting</a></li><li class="subsubsection"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:5.2.2.2">Variables</a></li></ol></li></ol></li><li class="section"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:layout_links"><span class="number">5.3</span> Layout links</a></li><li><ol><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:route_tests"><span class="number">5.3.1</span> Route tests</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:rails_routes"><span class="number">5.3.2</span> Rails routes</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:named_routes"><span class="number">5.3.3</span> Named routes</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:pretty_rspec"><span class="number">5.3.4</span> Pretty RSpec</a></li></ol></li><li class="section"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:user_signup"><span class="number">5.4</span> User signup: A first step</a></li><li><ol><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:users_controller"><span class="number">5.4.1</span> Users controller</a></li><li class="subsection"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:signup_url"><span class="number">5.4.2</span> Signup URI</a></li></ol></li><li class="section"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:layout_conclusion"><span class="number">5.5</span> Conclusion</a></li><li class="section"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:layout_exercises"><span class="number">5.6</span> Exercises</a></li></ol></li><li class="chapter"><a href="http://ruby.railstutorial.org/chapters/modeling-users?version=3.2#top"><span class="number">Chapter 6</span> Modeling users</a></li><li class="chapter"><a href="http://ruby.railstutorial.org/chapters/sign-up?version=3.2#top"><span class="number">Chapter 7</span> Sign up</a></li><li class="chapter"><a href="http://ruby.railstutorial.org/chapters/sign-in-sign-out?version=3.2#top"><span class="number">Chapter 8</span> Sign in, sign out</a></li><li class="chapter"><a href="http://ruby.railstutorial.org/chapters/updating-showing-and-deleting-users?version=3.2#top"><span class="number">Chapter 9</span> Updating, showing, and deleting users</a></li><li class="chapter"><a href="http://ruby.railstutorial.org/chapters/user-microposts?version=3.2#top"><span class="number">Chapter 10</span> User microposts</a></li><li class="chapter"><a href="http://ruby.railstutorial.org/chapters/following-users?version=3.2#top"><span class="number">Chapter 11</span> Following users</a></li></ol></div>


<div id="main_content"></div>


<p> <span class="preamble">
 <span id="foreword">
<strong> Foreword</strong> <br>
 </span>
 </span></p>

<p>My former company (CD Baby) was one of the first to loudly switch to 
Ruby on Rails, and then even more loudly switch back to PHP (Google me 
to read about the drama). This book by Michael Hartl came so highly 
recommended that I had to try it, and the <em>Ruby on Rails Tutorial</em> is what I used to switch back to Rails again.</p>

<p>Though I’ve worked my way through many Rails books, this is the one 
that finally made me “get” it. Everything is done very much “the Rails 
way”—a way that felt very unnatural to me before, but now after doing 
this book finally feels natural. This is also the only Rails book that 
does test-driven development the entire time, an approach highly 
recommended by the experts but which has never been so clearly 
demonstrated before. Finally, by including Git, GitHub, and Heroku in 
the demo examples, the author really gives you a feel for what it’s like
 to do a real-world project. The tutorial’s code examples are not in 
isolation.</p>

<p>The linear narrative is such a great format. Personally, I powered through the <em>Rails Tutorial</em>
 in three long days, doing all the examples and challenges at the end of
 each chapter. Do it from start to finish, without jumping around, and 
you’ll get the ultimate benefit.</p>

<p>Enjoy!</p>

<p><a href="http://sivers.org/">Derek Sivers</a> (<a href="http://sivers.org/">sivers.org</a>) <br>
<em>Formerly: Founder,</em> <a href="http://www.cdbaby.com/"><em>CD Baby</em></a> <br>
<em>Currently: Founder,</em> <a href="http://thoughts.pro/"><em>Thoughts Ltd.</em></a> <br></p>

<p> <span class="preamble">
<strong> Acknowledgments</strong> <br>
 </span></p>

<p>The <em>Ruby on Rails Tutorial</em> owes a lot to my previous Rails book, <em>RailsSpace</em>, and hence to my coauthor <a href="http://aure.com/">Aurelius Prochazka</a>.
 I’d like to thank Aure both for the work he did on that book and for 
his support of this one. I’d also like to thank Debra Williams Cauley, 
my editor on both <em>RailsSpace</em> and the <em>Ruby on Rails Tutorial</em>; as long as she keeps taking me to baseball games, I’ll keep writing books for her.</p>

<p>I’d like to acknowledge a long list of Rubyists who have taught and 
inspired me over the years: David Heinemeier Hansson, Yehuda Katz, Carl 
Lerche, Jeremy Kemper, Xavier Noria, Ryan Bates, Geoffrey Grosenbach, 
Peter Cooper, Matt Aimonetti, Gregg Pollack, Wayne&nbsp;E. Seguin, Amy 
Hoy, Dave Chelimsky, Pat Maddox, Tom Preston-Werner, Chris Wanstrath, 
Chad Fowler, Josh Susser, Obie Fernandez, Ian McFarland, Steven Bristol,
 Wolfram Arnold, Alex Chaffee, Giles Bowkett, Evan Dorn, Long Nguyen, 
James Lindenbaum, Adam Wiggins, Tikhon Bernstam, Ron Evans, Wyatt 
Greene, Miles Forrest, the good people at Pivotal Labs, the Heroku gang,
 the thoughtbot guys, and the GitHub crew. Finally, many, many 
readers—far too many to list—have contributed a huge number of bug 
reports and suggestions during the writing of this book, and I 
gratefully acknowledge their help in making it as good as it 
can&nbsp;be. <br></p>

<p> <span class="preamble">
 <span id="author">
<strong> About the author</strong> <br>
 </span>
 </span></p>

<p><a href="http://michaelhartl.com/">Michael Hartl</a> is the author of the <a href="http://ruby.railstutorial.org/"><em>Ruby on Rails Tutorial</em></a>, the leading introduction to web development with <a href="http://rubyonrails.org/">Ruby on Rails</a>. His prior experience includes writing and developing <em>RailsSpace</em>, an extremely obsolete Rails tutorial book, and developing <a href="http://insoshi.com/">Insoshi</a>, a once-popular and now-obsolete social networking platform in Ruby on Rails. In 2011, Michael received a <a href="http://rubyheroes.com/heroes">Ruby Hero Award</a> for his contributions to the Ruby community. He is a graduate of <a href="http://college.harvard.edu/">Harvard College</a>, has a <a href="http://resolver.caltech.edu/CaltechETD:etd-05222003-161626">Ph.D. in Physics</a> from <a href="http://www.caltech.edu/">Caltech</a>, and is an alumnus of the <a href="http://ycombinator.com/">Y&nbsp;Combinator</a> entrepreneur program. <br></p>

<p> <span id="license" class="preamble">
<strong> Copyright and license</strong> <br>
 </span></p>

<p><em>Ruby on Rails Tutorial: Learn Rails by Example</em>. Copyright © 2012 by Michael Hartl. All source code in the <em>Ruby on Rails Tutorial</em> is available jointly under the <a href="http://www.opensource.org/licenses/mit-license.php">MIT License</a> and the Beerware License.</p>

<pre class="verbatim">   Copyright (c) 2012 Michael Hartl

   Permission is hereby granted, free of charge, to any person
   obtaining a copy of this software and associated documentation
   files (the "Software"), to deal in the Software without
   restriction, including without limitation the rights to use,
   copy, modify, merge, publish, distribute, sublicense, and/or sell
   copies of the Software, and to permit persons to whom the
   Software is furnished to do so, subject to the following
   conditions:

   The above copyright notice and this permission notice shall be
   included in all copies or substantial portions of the Software.

   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
   OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
   HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
   WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
   FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
   OTHER DEALINGS IN THE SOFTWARE.</pre>




<pre class="verbatim">/*
 * ------------------------------------------------------------
 * "THE BEERWARE LICENSE" (Revision 42):
 * Michael Hartl wrote this code. As long as you retain this 
 * notice, you can do whatever you want with this stuff. If we
 * meet someday, and you think this stuff is worth it, you can
 * buy me a beer in return.
 * ------------------------------------------------------------
 */</pre>




<div id="top"></div>


<h1 class="chapter"><a id="sec:5" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#top" class="heading"><span class="number">Chapter 5</span> Filling in the layout</a></h1>


<p>In the process of taking a brief tour of Ruby in <a class="ref" href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#top">Chapter&nbsp;4</a>, we added some basic cascading style sheets to our site layout (<a class="ref" href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:cascading_style_sheets">Section&nbsp;4.1.2</a>).
 In this chapter, we’ll add some custom styles of our own, as we fill in
 the layout with links to the pages (such as Home and About) that we’ve 
created so far (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:structure">Section&nbsp;5.1</a>). Along the way, we’ll learn about partials, Rails routes, and the asset pipeline, including an introduction to Sass (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:sass_and_the_asset_pipeline">Section&nbsp;5.2</a>). We’ll also refactor the tests from <a class="ref" href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#top">Chapter&nbsp;3</a> using the latest RSpec techniques. We’ll end by taking a first important step toward letting users sign up to our site.</p>

<div class="label" id="sec:structure"></div>


<h2><a id="sec:5.1" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:structure" class="heading"><span class="number">5.1</span> Adding some structure</a></h2>


<p>The <em>Rails Tutorial</em> is a book on web development, not web design, but it would be depressing to work on an application that looks like <em>complete</em> crap, so in this section we’ll add some structure to the layout and give it some minimal styling with CSS. We’ll also give our <em>code</em> some styling, so to speak, using <em>partials</em> to tidy up the layout once it gets a little cluttered.</p>

<p>When building web applications, it is often useful to get a 
high-level overview of the user interface as early as possible. 
Throughout the rest of this book, I will thus often include <em>mockups</em> (in a web context often called <em>wireframes</em>), which are rough sketches of what the eventual application will look like.<sup class="footnote" id="fnref:5.1"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fn:5.1">1</a></sup> In this chapter, we will principally be developing the static pages introduced in <a class="ref" href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:static_pages">Section&nbsp;3.1</a>,
 including a site logo, a navigation header, and a site footer. A mockup
 for the most important of these pages, the Home page, appears in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fig:home_page_mockup">Figure&nbsp;5.1</a>. You can see the final result in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fig:site_with_footer">Figure&nbsp;5.8</a>.
 You’ll note that it differs in some details—for example, the footer has
 four links instead of three—but that’s fine, since a mockup need not be
 exact.</p>

<div class="label" id="fig:home_page_mockup"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="filling-in-the-layout_files/home_page_mockup.png" alt="home_page_mockup"></span></div><div class="caption"><span class="header">Figure 5.1: </span><span class="description">A mockup of the sample application’s Home page.&nbsp;<a href="http://railstutorial.org/images/figures/home_page_mockup-full.png">(full size)</a></span></div></div>


<p>As usual, if you’re using Git for version control, now would be a good time to make a new branch:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git checkout -b filling-in-layout
</pre></div>
</div>


<p>You might still have the <code>example_user.rb</code> file from <a class="ref" href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#top">Chapter&nbsp;4</a> in your project directory; if so, you should probably remove it:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> rm example_user.rb
</pre></div>
</div>


<div class="label" id="sec:adding_to_the_layout"></div>


<h3><a id="sec:5.1.1" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:adding_to_the_layout" class="heading"><span class="number">5.1.1</span> Site navigation</a></h3>


<p>When we last saw the site layout file <code>application.html.erb</code> in <a class="ref" href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#code:application_layout_full_title">Listing&nbsp;4.3</a>, we had just added Blueprint stylesheets using the Rails <code>stylesheet_link_tag</code>
 helper. It’s time to add a couple more stylesheets, one specifically 
for Internet Explorer browsers and one for our (soon-to-be-added) custom
 CSS. We’ll also add some additional divisions (<code>div</code>s), some <code>id</code>s and <code>class</code>es, and the start of our site navigation. The full file is in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:layout_new_structure">Listing&nbsp;5.1</a>;
 explanations for the various pieces follow immediately thereafter. If 
you’d rather not delay gratification, you can see the results in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fig:layout_no_logo_or_custom_css">Figure&nbsp;5.2</a>. (<em>Note:</em> it’s not (yet) very gratifying.)</p>

<div class="label" id="code:layout_new_structure"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.1.</span> <span class="description">The site layout with added structure. <br> <code>app/views/layouts/application.html.erb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span><span class="cp">&lt;%=</span> <span class="n">full_title</span><span class="p">(</span><span class="k">yield</span><span class="p">(</span><span class="ss">:title</span><span class="p">))</span> <span class="cp">%&gt;</span><span class="nt">&lt;/title&gt;</span>
    <span class="c">&lt;!--[if lt IE 9]&gt;</span>
<span class="c">    &lt;script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"&gt;&lt;/script&gt;</span>
<span class="c">    &lt;![endif]--&gt;</span>    
    <span class="cp">&lt;%=</span> <span class="n">stylesheet_link_tag</span> <span class="s1">'blueprint/screen'</span><span class="p">,</span> <span class="ss">media:</span> <span class="s1">'screen'</span> <span class="cp">%&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">stylesheet_link_tag</span> <span class="s1">'blueprint/print'</span><span class="p">,</span>  <span class="ss">media:</span> <span class="s1">'print'</span> <span class="cp">%&gt;</span>
    <span class="c">&lt;!--[if lt IE 8]&gt;</span><span class="cp">&lt;%=</span> <span class="n">stylesheet_link_tag</span> <span class="s1">'blueprint/ie'</span> <span class="cp">%&gt;</span><span class="c">&lt;![endif]--&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">stylesheet_link_tag</span>    <span class="s2">"application"</span><span class="p">,</span> <span class="ss">media:</span> <span class="s2">"all"</span> <span class="cp">%&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">javascript_include_tag</span> <span class="s2">"application"</span> <span class="cp">%&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">csrf_meta_tags</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;header&gt;</span>
        <span class="cp">&lt;%=</span> <span class="n">image_tag</span><span class="p">(</span><span class="s2">"logo.png"</span><span class="p">,</span> <span class="ss">alt:</span> <span class="s2">"Sample App"</span><span class="p">,</span> <span class="ss">class:</span> <span class="s2">"round"</span><span class="p">)</span> <span class="cp">%&gt;</span>
        <span class="nt">&lt;nav</span> <span class="na">class=</span><span class="s">"round"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;ul&gt;</span>
            <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Home"</span><span class="p">,</span> <span class="s1">'#'</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
            <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Help"</span><span class="p">,</span> <span class="s1">'#'</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
            <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Sign in"</span><span class="p">,</span> <span class="s1">'#'</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
          <span class="nt">&lt;/ul&gt;</span>
        <span class="nt">&lt;/nav&gt;</span>
      <span class="nt">&lt;/header&gt;</span>
      <span class="nt">&lt;section</span> <span class="na">class=</span><span class="s">"round"</span><span class="nt">&gt;</span>
        <span class="cp">&lt;%=</span> <span class="k">yield</span> <span class="cp">%&gt;</span>
      <span class="nt">&lt;/section&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div></div>


<p>One thing to note immediately is the switch from Ruby&nbsp;1.8–style hashes to the new Ruby&nbsp;1.9 style (<a class="ref" href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:hashes_and_symbols">Section&nbsp;4.3.3</a>). That is,</p>

<div class="code"><div class="highlight"><pre><span class="n">image_tag</span><span class="p">(</span><span class="s2">"logo.png"</span><span class="p">,</span> <span class="ss">:alt</span> <span class="o">=&gt;</span> <span class="s2">"Sample App"</span><span class="p">,</span> <span class="ss">:class</span> <span class="o">=&gt;</span> <span class="s2">"round"</span><span class="p">)</span>
</pre></div>
</div>


<p>has been replaced with</p>

<div class="code"><div class="highlight"><pre><span class="n">image_tag</span><span class="p">(</span><span class="s2">"logo.png"</span><span class="p">,</span> <span class="ss">alt:</span> <span class="s2">"Sample App"</span><span class="p">,</span> <span class="ss">class:</span> <span class="s2">"round"</span><span class="p">)</span>
</pre></div>
</div>


<p>Quite a few prominent Rails developers have started using the new syntax (including <a href="http://railscasts.com/">Railscasts</a>
 host Ryan Bates), and I expect this trend to continue, so it seems wise
 to start using it now. (The old syntax is deeply entrenched, though, 
and unfortunately that means most new projects will have a mix of the 
two, including ours.)</p>

<p>Let’s look at the other new elements in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:layout_new_structure">Listing&nbsp;5.1</a> from top to bottom. As noted briefly in <a class="ref" href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:static_pages">Section&nbsp;3.1</a>, Rails&nbsp;3 uses HTML5 by default (as indicated by the doctype <code>&lt;!DOCTYPE html&gt;</code>);
 since the HTML5 standard is relatively new, some browsers (especially 
older versions Internet Explorer) don’t fully support it, so we include 
some JavaScript code (known as an “<a href="http://code.google.com/p/html5shiv/">HTML5 shiv</a>”) to work around the issue:</p>

<div class="code"><div class="highlight"><pre><span class="c">&lt;!--[if lt IE 9]&gt;</span>
<span class="c">&lt;script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"&gt;&lt;/script&gt;</span>
<span class="c">&lt;![endif]--&gt;</span>
</pre></div>
</div>


<p>The somewhat odd syntax</p>

<div class="code"><div class="highlight"><pre><span class="c">&lt;!--[if lt IE 9]&gt;</span>
</pre></div>
</div>


<p>includes the enclosed line only if the version of Microsoft Internet Explorer&nbsp;(IE) is less than&nbsp;9 (<code>if lt IE 9</code>). The weird <code>[if lt IE 9]</code> syntax is <em>not</em> part of Rails; it’s actually a <a href="http://en.wikipedia.org/wiki/Conditional_comment">conditional comment</a>
 supported by Internet Explorer browsers for just this sort of 
situation. It’s a good thing, too, because it means we can include the 
extra stylesheet <em>only</em> for IE browsers less than version&nbsp;9, leaving other browsers such as Firefox, Chrome, and Safari unaffected.</p>

<p>After the lines to include the Blueprint stylesheets (first introduced in <a class="ref" href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#code:layout_with_stylesheets">Listing&nbsp;4.4</a>),
 there is another Internet Explorer–specific line, which this time is a 
stylesheet that only gets included if the browser is a version of 
Internet Explorer less than&nbsp;8 (<code>if lt IE 8</code>):</p>

<div class="code"><div class="highlight"><pre><span class="c">&lt;!--[if lt IE 8]&gt;</span><span class="cp">&lt;%=</span> <span class="n">stylesheet_link_tag</span> <span class="s1">'blueprint/ie'</span> <span class="cp">%&gt;</span><span class="c">&lt;![endif]--&gt;</span>
</pre></div>
</div>


<p>IE has a large number of idiosyncrasies (especially before version&nbsp;8), and Blueprint comes with a special <code>ie.css</code> file that fixes a bunch of them.</p>

<p>The next section places a <em>container div</em> around our site navigation and content, which is a <code>div</code> tag with class <code>container</code>. This container div is needed by Blueprint (see the <a href="http://wiki.github.com/joshuaclayton/blueprint-css/quick-start-tutorial">Blueprint tutorial</a> for more information). Then there are <code>header</code> and <code>section</code> elements; the header contains the sample app logo (to be added below) and the site navigation (<code>nav</code>). Finally, there is <code>section</code> element containing the site’s main content:</p>

<div class="code"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;header&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">image_tag</span><span class="p">(</span><span class="s2">"logo.png"</span><span class="p">,</span> <span class="ss">alt:</span> <span class="s2">"Sample App"</span><span class="p">,</span> <span class="ss">class:</span> <span class="s2">"round"</span><span class="p">)</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;nav</span> <span class="na">class=</span><span class="s">"round"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;ul&gt;</span>
        <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Home"</span><span class="p">,</span> <span class="s1">'#'</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Help"</span><span class="p">,</span> <span class="s1">'#'</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Sign in"</span><span class="p">,</span> <span class="s1">'#'</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
      <span class="nt">&lt;/ul&gt;</span>
    <span class="nt">&lt;/nav&gt;</span>
  <span class="nt">&lt;/header&gt;</span>
  <span class="nt">&lt;section</span> <span class="na">class=</span><span class="s">"round"</span><span class="nt">&gt;</span>
    <span class="cp">&lt;%=</span> <span class="k">yield</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;/section&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>


<p>The <code>div</code> tag in HTML is a generic division; it doesn’t do
 anything apart from divide the document into distinct parts. In older 
style HTML, <code>div</code> tags are used for nearly all site divisions, but HTML5 adds the <code>header</code>, <code>nav</code>, and <code>section</code>
 elements for divisions common to many applications. All HTML elements, 
including divs and the new HTML5 elements, can be assigned <em>classes</em><sup class="footnote" id="fnref:5.2"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fn:5.2">2</a></sup> and <em>ids</em>; these are merely labels, and are useful for styling with CSS (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:custom_css">Section&nbsp;5.1.2</a>).
 The main difference between classes and ids is that classes can be used
 multiple times on a page, but ids can be used only once.</p>

<p>Inside the header is a Rails helper called <code>image_tag</code>:</p>

<div class="code"><div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">image_tag</span><span class="p">(</span><span class="s2">"logo.png"</span><span class="p">,</span> <span class="ss">alt:</span> <span class="s2">"Sample App"</span><span class="p">,</span> <span class="ss">class:</span> <span class="s2">"round"</span><span class="p">)</span> <span class="cp">%&gt;</span>
</pre></div>
</div>


<p>Note that, as with <code>stylesheet_link_tag</code> (<a class="ref" href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:css_revisited">Section&nbsp;4.3.4</a>), we pass a hash of options, in this case setting the <code>alt</code> and <code>class</code> attributes of the image tag using symbols <code>:alt</code> and <code>:class</code>. To make this clearer, let’s look at the HTML this tag produces:<sup class="footnote" id="fnref:5.3"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fn:5.3">3</a></sup></p>

<div class="code"><div class="highlight"><pre><span class="nt">&lt;img</span> <span class="na">alt=</span><span class="s">"Sample App"</span> <span class="na">class=</span><span class="s">"round"</span> <span class="na">src=</span><span class="s">"/images/logo.png"</span> <span class="nt">/&gt;</span>
</pre></div>
</div>


<p>The <code>alt</code> attribute is what will be displayed if there is no image,<sup class="footnote" id="fnref:5.4"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fn:5.4">4</a></sup> and the class will be used for styling in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:custom_css">Section&nbsp;5.1.2</a>.
 (Rails helpers often take options hashes in this way, giving us the 
flexibility to add arbitrary HTML options without ever leaving Rails.) 
You can see the result in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fig:layout_no_logo_or_custom_css">Figure&nbsp;5.2</a>; we’ll add the logo image at the end of this section.</p>

<p>The second element inside the layout header is a list of navigation links, made using the <em>unordered list</em> tag <code>ul</code>, together with the <em>list item</em> tag <code>li</code>:</p>

<div class="code"><div class="highlight"><pre><span class="nt">&lt;nav</span> <span class="na">class=</span><span class="s">"round"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ul&gt;</span>
    <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Home"</span><span class="p">,</span> <span class="s1">'#'</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Help"</span><span class="p">,</span> <span class="s1">'#'</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Sign in"</span><span class="p">,</span> <span class="s1">'#'</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
  <span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/nav&gt;</span>
</pre></div>
</div>


<p>This list uses the Rails helper <code>link_to</code> to create links (which we created directly with the anchor tag&nbsp;<code>a</code> in <a class="ref" href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:passing_title_tests">Section&nbsp;3.3.2</a>); the first argument is the link text, while the second is the URI. We’ll fill in the URIs with <em>named routes</em> in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:named_routes">Section&nbsp;5.3.3</a>, but for now we use the stub URI <code>’#’</code> commonly used in web design. Once Rails has processed this layout and evaluated the Embedded Ruby, the list looks like this:</p>

<div class="code"><div class="highlight"><pre><span class="nt">&lt;nav</span> <span class="na">class=</span><span class="s">"round"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ul&gt;</span>
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"#"</span><span class="nt">&gt;</span>Home<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"#"</span><span class="nt">&gt;</span>Help<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"#"</span><span class="nt">&gt;</span>Sign in<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
  <span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/nav&gt;</span>
</pre></div>
</div>


<p>Our layout is now complete, and we can look at the results by 
visiting, e.g., the Home page. In anticipation of adding users to our 
site in <a class="ref" href="http://ruby.railstutorial.org/chapters/sign-up?version=3.2#top">Chapter&nbsp;7</a>, let’s add a signup link to the <code>home.html.erb</code> view (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:signup_button">Listing&nbsp;5.2</a>).</p>

<div class="label" id="code:signup_button"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.2.</span> <span class="description">The Home page with a link to the signup page. <br> <code>app/views/static_pages/home.html.erb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="cp">&lt;%</span> <span class="n">provide</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="s1">'Home'</span><span class="p">)</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;h1&gt;</span>Sample App<span class="nt">&lt;/h1&gt;</span>

<span class="nt">&lt;p&gt;</span>
  This is the home page for the
  <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"http://railstutorial.org/"</span><span class="nt">&gt;</span>Ruby on Rails Tutorial<span class="nt">&lt;/a&gt;</span>
  sample application.
<span class="nt">&lt;/p&gt;</span>

<span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Sign up now!"</span><span class="p">,</span> <span class="s1">'#'</span><span class="p">,</span> <span class="ss">class:</span> <span class="s2">"signup_button round"</span> <span class="cp">%&gt;</span>
</pre></div>
</div></div>


<p>As with the previous uses of <code>link_to</code>, this just creates a stub link of the form</p>

<div class="code"><div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">class=</span><span class="s">"signup_button round"</span><span class="nt">&gt;</span>Sign up now!<span class="nt">&lt;/a&gt;</span>
</pre></div>
</div>


<p>Note again the recurring theme of options hashes, in this case used 
to add a couple CSS classes to the anchor tag. You might notice that the
 <code>a</code> tag here has <em>two</em> classes, separated by a space:</p>

<div class="code"><div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">class=</span><span class="s">"signup_button round"</span><span class="nt">&gt;</span>
</pre></div>
</div>


<p>This is convenient for the common case of an element with two different kinds of styles.</p>

<p>Now we’re finally ready to see the fruits of our labors (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fig:layout_no_logo_or_custom_css">Figure&nbsp;5.2</a>).<sup class="footnote" id="fnref:5.5"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fn:5.5">5</a></sup>
 Pretty underwhelming, you say? Perhaps so. Happily, though, we’ve done a
 good job of giving our HTML elements sensible classes and ids, which 
puts us in a great position to add style to the site with CSS.</p>

<div class="label" id="fig:layout_no_logo_or_custom_css"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="filling-in-the-layout_files/layout_no_logo_or_custom_css.png" alt="layout_no_logo_or_custom_css"></span></div><div class="caption"><span class="header">Figure 5.2: </span><span class="description">The Home page (<a href="http://localhost:3000/static_pages/home"><tt>/static_pages/home</tt></a>) with no logo or custom CSS.&nbsp;<a href="http://railstutorial.org/images/figures/layout_no_logo_or_custom_css-full.png">(full size)</a></span></div></div>


<p>Before we move on to CSS styling, let’s replace the logo alt text 
with a logo image; you can download the sample application logo at <br> <br>
<a href="http://railstutorial.org/images/sample_app/logo.png">http://railstutorial.org/images/sample_app/logo.png</a><br></p>

<p>Put the logo in <code>app/assets/images</code> so that Rails can find it. (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:the_asset_pipeline">Section&nbsp;5.2.1</a> explains the significance of this location.) The result appears in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fig:layout_logo_no_css">Figure&nbsp;5.3</a>.</p>

<div class="label" id="fig:layout_logo_no_css"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="filling-in-the-layout_files/layout_logo_no_css.png" alt="layout_logo_no_css"></span></div><div class="caption"><span class="header">Figure 5.3: </span><span class="description">The Home page (<a href="http://localhost:3000/static_pages/home"><tt>/static_pages/home</tt></a>) with a logo but no custom CSS.&nbsp;<a href="http://railstutorial.org/images/figures/layout_logo_no_css-full.png">(full size)</a></span></div></div>




<div class="label" id="sec:custom_css"></div>


<h3><a id="sec:5.1.2" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:custom_css" class="heading"><span class="number">5.1.2</span> Custom CSS</a></h3>


<p>In <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:adding_to_the_layout">Section&nbsp;5.1.1</a>, you may have noticed that the CSS elements are <em>semantic</em>,
 that is, they have meaning in English beyond the structure of the page.
 For example, instead of writing that the navigation menu was 
“right-top” we used the element “nav”. This gives us considerable 
flexibility in constructing a layout based on CSS.</p>

<p>Let’s get started by filling in the <code>layout.css</code> file with <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:header_content">Listing&nbsp;5.3</a>. (There are quite a few rules in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:header_content">Listing&nbsp;5.3</a>. To get a sense of what a CSS rule does, it’s often helpful to comment it out using CSS comments, i.e., by putting it inside <code>/* … */</code>, and seeing what changes.)</p>

<div class="label" id="code:header_content"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.3.</span> <span class="description">CSS for the container, body, and links. <br> <code>app/assets/stylesheets/layout.css</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="nc">.container</span> <span class="p">{</span>
  <span class="k">width</span><span class="o">:</span> <span class="m">710px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">body</span> <span class="p">{</span>
  <span class="k">background</span><span class="o">:</span> <span class="m">#cff</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">header</span> <span class="p">{</span>
  <span class="k">padding-top</span><span class="o">:</span> <span class="m">20px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">header</span> <span class="nt">img</span> <span class="p">{</span>
  <span class="k">padding</span><span class="o">:</span> <span class="m">1em</span><span class="p">;</span>
  <span class="k">background</span><span class="o">:</span> <span class="nb">white</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">section</span> <span class="p">{</span>
  <span class="k">margin-top</span><span class="o">:</span> <span class="m">1em</span><span class="p">;</span>
  <span class="k">font-size</span><span class="o">:</span> <span class="m">120</span><span class="o">%</span><span class="p">;</span>
  <span class="k">padding</span><span class="o">:</span> <span class="m">20px</span><span class="p">;</span>
  <span class="k">background</span><span class="o">:</span> <span class="nb">white</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">section</span> <span class="nt">h1</span> <span class="p">{</span>
  <span class="k">font-size</span><span class="o">:</span> <span class="m">200</span><span class="o">%</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Links */</span>

<span class="nt">a</span> <span class="p">{</span>
  <span class="k">color</span><span class="o">:</span> <span class="m">#09c</span><span class="p">;</span>
  <span class="k">text-decoration</span><span class="o">:</span> <span class="k">none</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">a</span><span class="nd">:hover</span> <span class="p">{</span>
  <span class="k">color</span><span class="o">:</span> <span class="m">#069</span><span class="p">;</span>
  <span class="k">text-decoration</span><span class="o">:</span> <span class="k">underline</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">a</span><span class="nd">:visited</span> <span class="p">{</span>
  <span class="k">color</span><span class="o">:</span> <span class="m">#069</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div></div>


<p>You can see the results of this CSS in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fig:layout_with_colors">Figure&nbsp;5.4</a>.
 There’s a lot of CSS here, but it has a consistent form. Each rule 
refers either to a class, an id, an HTML tag, or some combination 
thereof, followed by a list of styling commands. For example,</p>

<div class="code"><div class="highlight"><pre><span class="nt">body</span> <span class="p">{</span>
  <span class="k">background</span><span class="o">:</span> <span class="m">#cff</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>


<p>changes the background color of the <code>body</code> tag to baby blue,<sup class="footnote" id="fnref:5.6"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fn:5.6">6</a></sup> while</p>

<div class="code"><div class="highlight"><pre><span class="nt">header</span> <span class="nt">img</span> <span class="p">{</span>
  <span class="k">padding</span><span class="o">:</span> <span class="m">1em</span><span class="p">;</span>
  <span class="k">background</span><span class="o">:</span> <span class="nb">white</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>


<p>puts a padding layer of one <code>em</code> (roughly the width of the letter <code>M</code>) around the image (<code>img</code>) inside a <code>header</code> tag. This rule also makes the background color white. Similarly,</p>

<div class="code"><div class="highlight"><pre><span class="nc">.container</span> <span class="p">{</span>
  <span class="k">width</span><span class="o">:</span> <span class="m">710px</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>


<p>styles an element with class <code>container</code>, in this case giving it a width of 710 pixels (corresponding to 18 Blueprint columns).<sup class="footnote" id="fnref:5.7"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fn:5.7">7</a></sup> The dot <code>.</code> in <code>.container</code> indicates that the rule styles a <em>class</em> called “container”. (As we’ll see in Section&nbsp;sec:signup_error_messages, the pound sign <code>#</code> identifies a rule to style a CSS <em>id</em> in the same way that a dot indicates a CSS class.)</p>

<div class="label" id="fig:layout_with_colors"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="filling-in-the-layout_files/layout_with_colors.png" alt="layout_with_colors"></span></div><div class="caption"><span class="header">Figure 5.4: </span><span class="description">The Home page (<a href="http://localhost:3000/static_pages/home"><tt>/static_pages/home</tt></a>) with custom colors.&nbsp;<a href="http://railstutorial.org/images/figures/layout_with_colors-full.png">(full size)</a></span></div></div>


<p>Changing colors is nice, but the navigation links are still hanging 
down on the left side of the page. Let’s move them to a better location 
and give them a nicer appearance with the navigation rules in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:navigation_css">Listing&nbsp;5.4</a>. The results appear in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fig:layout_no_rounded_corners">Figure&nbsp;5.5</a>. (In some of the book’s code samples, including <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:navigation_css">Listing&nbsp;5.4</a>,
 I use three vertical dots to indicate omitted code. When typing in the 
code, take care not to include the dots; alternatively, if you 
copy-and-paste the code, make sure to remove the dots by hand.)</p>

<div class="label" id="code:navigation_css"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.4.</span> <span class="description">Navigation CSS. <br> <code>app/assets/stylesheets/layout.css</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="o">.</span>
<span class="o">.</span>
<span class="o">.</span>
<span class="c">/* Navigation */</span>

<span class="nt">nav</span> <span class="p">{</span>
  <span class="k">float</span><span class="o">:</span> <span class="k">right</span><span class="p">;</span>
  <span class="k">background-color</span><span class="o">:</span> <span class="nb">white</span><span class="p">;</span>
  <span class="k">padding</span><span class="o">:</span> <span class="m">0</span> <span class="m">0.7em</span><span class="p">;</span>
  <span class="k">white-space</span><span class="o">:</span> <span class="k">nowrap</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">nav</span> <span class="nt">ul</span> <span class="p">{</span>
  <span class="k">margin</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="k">padding</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">nav</span> <span class="nt">ul</span> <span class="nt">li</span> <span class="p">{</span>
  <span class="k">list-style-type</span><span class="o">:</span> <span class="k">none</span><span class="p">;</span>
  <span class="k">display</span><span class="o">:</span> <span class="k">inline</span><span class="o">-</span><span class="k">block</span><span class="p">;</span>
  <span class="k">padding</span><span class="o">:</span> <span class="m">0.2em</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">nav</span> <span class="nt">ul</span> <span class="nt">li</span> <span class="nt">a</span> <span class="p">{</span>
  <span class="k">padding</span><span class="o">:</span> <span class="m">0</span> <span class="m">5px</span><span class="p">;</span>
  <span class="k">font-weight</span><span class="o">:</span> <span class="k">bold</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">nav</span> <span class="nt">ul</span> <span class="nt">li</span> <span class="nt">a</span><span class="nd">:visited</span> <span class="p">{</span>
  <span class="k">color</span><span class="o">:</span> <span class="m">#09c</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">nav</span> <span class="nt">ul</span> <span class="nt">li</span> <span class="nt">a</span><span class="nd">:hover</span> <span class="p">{</span>
  <span class="k">text-decoration</span><span class="o">:</span> <span class="k">underline</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div></div>


<p>Here <code>nav ul</code> styles a <code>ul</code> tag inside a <code>nav</code> tag, <code>nav ul li</code> styles an <code>li</code> tag inside a <code>ul</code> tag inside a <code>nav</code> tag, and so on.</p>

<div class="label" id="fig:layout_no_rounded_corners"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="filling-in-the-layout_files/layout_no_rounded_corners.png" alt="layout_no_rounded_corners"></span></div><div class="caption"><span class="header">Figure 5.5: </span><span class="description">The Home page (<a href="http://localhost:3000/static_pages/home"><tt>/static_pages/home</tt></a>) with navigation styling.&nbsp;<a href="http://railstutorial.org/images/figures/layout_no_rounded_corners-full.png">(full size)</a></span></div></div>


<p>As the <a href="http://www.answers.com/penultimate">penultimate</a> 
step, we’ll make the link to our site’s signup page a little more 
obvious. (Though for the sample app we don’t care, on any real site it’s
 naturally quite important to make the signup link <em>very</em> prominent.) <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:signup_css">Listing&nbsp;5.5</a> shows CSS to make the signup link big, green, and clickable (so a click anywhere inside the box will follow the link).</p>

<div class="label" id="code:signup_css"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.5.</span> <span class="description">CSS to make the signup button big, green, and clickable. <br> <code>app/assets/stylesheets/layout.css</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="o">.</span>
<span class="o">.</span>
<span class="o">.</span>

<span class="c">/* Sign up button */</span>

<span class="nt">a</span><span class="nc">.signup_button</span> <span class="p">{</span>
  <span class="k">margin-left</span><span class="o">:</span> <span class="k">auto</span><span class="p">;</span>
  <span class="k">margin-right</span><span class="o">:</span> <span class="k">auto</span><span class="p">;</span>
  <span class="k">display</span><span class="o">:</span> <span class="k">block</span><span class="p">;</span>
  <span class="k">text-align</span><span class="o">:</span> <span class="k">center</span><span class="p">;</span>
  <span class="k">width</span><span class="o">:</span> <span class="m">190px</span><span class="p">;</span>
  <span class="k">color</span><span class="o">:</span> <span class="nb">white</span><span class="p">;</span>
  <span class="k">background</span><span class="o">:</span> <span class="m">#006400</span><span class="p">;</span>
  <span class="k">font-size</span><span class="o">:</span> <span class="m">150</span><span class="o">%</span><span class="p">;</span>
  <span class="k">font-weight</span><span class="o">:</span> <span class="k">bold</span><span class="p">;</span>
  <span class="k">padding</span><span class="o">:</span> <span class="m">20px</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div></div>


<p>There are a bunch of rules here; as usual, comment a line out and 
reload the page if you want to see what each one does. The end result is
 a signup link that’s hard to miss (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fig:signup_button">Figure&nbsp;5.6</a>).</p>

<div class="label" id="fig:signup_button"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="filling-in-the-layout_files/signup_button.png" alt="signup_button"></span></div><div class="caption"><span class="header">Figure 5.6: </span><span class="description">The Home page (<a href="http://localhost:3000/static_pages/home"><tt>/static_pages/home</tt></a>) with a signup button.&nbsp;<a href="http://railstutorial.org/images/figures/signup_button-full.png">(full size)</a></span></div></div>


<p>As a final touch, we’ll make use of the <code>round</code> class 
we’ve placed on many of our site elements. Although the current 
sharp-cornered boxes aren’t terrible, it’s a little friendlier to soften
 the corners so they won’t slice up our users. We can accomplish this 
using the CSS code in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:round_css">Listing&nbsp;5.6</a>, with the results shown in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fig:layout_rounded_corners">Figure&nbsp;5.7</a>.</p>

<div class="label" id="code:round_css"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.6.</span> <span class="description">Stylesheet rules for round corners. <br> <code>app/assets/stylesheets/layout.css</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="o">.</span>
<span class="o">.</span>
<span class="o">.</span>
<span class="c">/* Round corners */</span>

<span class="nc">.round</span> <span class="p">{</span>
  <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span>    <span class="m">10px</span><span class="p">;</span>
  <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span>
  <span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span>         <span class="m">10px</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div></div>


<p>It’s worth noting that this trick works on Firefox, Safari, Opera, 
and Internet Explorer 9, but it doesn’t work on earlier version 
of&nbsp;IE. There <em>are</em> ways of getting round corners that work on all browsers, but there’s no other technique that’s even <em>close</em> to this easy, so we’ll just risk leaving some of our IE users with a few tiny cuts.</p>

<div class="label" id="fig:layout_rounded_corners"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="filling-in-the-layout_files/layout_rounded_corners.png" alt="layout_rounded_corners"></span></div><div class="caption"><span class="header">Figure 5.7: </span><span class="description">The Home page (<a href="http://localhost:3000/static_pages/home"><tt>/static_pages/home</tt></a>) with round corners.&nbsp;<a href="http://railstutorial.org/images/figures/layout_rounded_corners-full.png">(full size)</a></span></div></div>




<div class="label" id="sec:partials"></div>


<h3><a id="sec:5.1.3" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:partials" class="heading"><span class="number">5.1.3</span> Partials</a></h3>


<p>Although the layout in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:layout_new_structure">Listing&nbsp;5.1</a>
 serves its purpose, it’s getting a little cluttered: there are several 
lines of CSS includes and even more lines of header for what are 
logically only two ideas. We can tuck these sections away using a 
convenient Rails facility called <em>partials</em>. Let’s first take a look at what the layout looks like after the partials are defined (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:layout_with_partials">Listing&nbsp;5.7</a>).</p>

<div class="label" id="code:layout_with_partials"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.7.</span> <span class="description">The site layout with partials for the stylesheets and header. <br> <code>app/views/layouts/application.html.erb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span><span class="cp">&lt;%=</span> <span class="n">full_title</span><span class="p">(</span><span class="k">yield</span><span class="p">(</span><span class="ss">:title</span><span class="p">))</span> <span class="cp">%&gt;</span><span class="nt">&lt;/title&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">render</span> <span class="s1">'layouts/stylesheets'</span> <span class="cp">%&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">csrf_meta_tags</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">render</span> <span class="s1">'layouts/header'</span> <span class="cp">%&gt;</span>
      <span class="nt">&lt;section</span> <span class="na">class=</span><span class="s">"round"</span><span class="nt">&gt;</span>
        <span class="cp">&lt;%=</span> <span class="k">yield</span> <span class="cp">%&gt;</span>
      <span class="nt">&lt;/section&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div></div>


<p>In <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:layout_with_partials">Listing&nbsp;5.7</a>, we’ve replaced the stylesheet lines with a single call to a Rails helper called <code>render</code>:</p>

<div class="code"><div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">render</span> <span class="s1">'layouts/stylesheets'</span> <span class="cp">%&gt;</span>
</pre></div>
</div>


<p>The effect of this line is to look for a file called  <code>app/views/layouts/_stylesheets.html.erb</code>, evaluate its contents, and insert the results into the view.<sup class="footnote" id="fnref:5.8"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fn:5.8">8</a></sup> (Recall that <tt class="verb">&lt;%= ... %&gt;</tt>
 is the Embedded Ruby syntax needed to evaluate a Ruby expression and 
then insert the results into the template.) Note the leading underscore 
on the filename <code>_stylesheets.html.erb</code>; this underscore is 
the universal convention for naming partials, and among other things 
makes it possible to identify all the partials in a directory at a 
glance.</p>

<p>Of course, to get the partial to work, we have to fill it with some 
content; in the case of the stylesheet partial, this is just the four 
lines of stylesheet includes from <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:layout_new_structure">Listing&nbsp;5.1</a>; the result appears in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:stylesheets_partial">Listing&nbsp;5.8</a>.
 (Technically, the HTML5 shiv includes JavaScript, not CSS. On the other
 hand, its purpose is to allow Internet Explorer to understand CSS with 
HTML5, so logically it still belongs in the stylesheet partial.)</p>

<div class="label" id="code:stylesheets_partial"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.8.</span> <span class="description">A partial for stylesheet includes. <br> <code>app/views/layouts/_stylesheets.html.erb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="c">&lt;!--[if lt IE 9]&gt;</span>
<span class="c">&lt;script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"&gt;&lt;/script&gt;</span>
<span class="c">&lt;![endif]--&gt;</span>
<span class="cp">&lt;%=</span> <span class="n">stylesheet_link_tag</span> <span class="s1">'blueprint/screen'</span><span class="p">,</span> <span class="ss">media:</span> <span class="s1">'screen'</span> <span class="cp">%&gt;</span>
<span class="cp">&lt;%=</span> <span class="n">stylesheet_link_tag</span> <span class="s1">'blueprint/print'</span><span class="p">,</span>  <span class="ss">media:</span> <span class="s1">'print'</span> <span class="cp">%&gt;</span>
<span class="c">&lt;!--[if lt IE 8]&gt;</span><span class="cp">&lt;%=</span> <span class="n">stylesheet_link_tag</span> <span class="s1">'blueprint/ie'</span> <span class="cp">%&gt;</span><span class="c">&lt;![endif]--&gt;</span>
</pre></div>
</div></div>


<p>Similarly, we can move the header material into the partial shown in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:header_partial">Listing&nbsp;5.9</a> and insert it into the layout with another call to <code>render</code>:</p>

<div class="code"><div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">render</span> <span class="s1">'layouts/header'</span> <span class="cp">%&gt;</span>
</pre></div>
</div>




<div class="label" id="code:header_partial"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.9.</span> <span class="description">A partial for the site header. <br> <code>app/views/layouts/_header.html.erb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="nt">&lt;header&gt;</span>
  <span class="cp">&lt;%=</span> <span class="n">image_tag</span><span class="p">(</span><span class="s2">"logo.png"</span><span class="p">,</span> <span class="ss">alt:</span> <span class="s2">"Sample App"</span><span class="p">,</span> <span class="ss">class:</span> <span class="s2">"round"</span><span class="p">)</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;nav</span> <span class="na">class=</span><span class="s">"round"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ul&gt;</span>
      <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Home"</span><span class="p">,</span> <span class="s1">'#'</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
      <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Help"</span><span class="p">,</span> <span class="s1">'#'</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
      <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Sign in"</span><span class="p">,</span> <span class="s1">'#'</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;/ul&gt;</span>
  <span class="nt">&lt;/nav&gt;</span>
<span class="nt">&lt;/header&gt;</span>
</pre></div>
</div></div>


<p>Now that we know how to make partials, let’s add a site footer to go 
along with the header. By now you can probably guess that we’ll call it <code>_footer.html.erb</code> and put it in the layouts directory (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:footer_partial">Listing&nbsp;5.10</a>).</p>

<div class="label" id="code:footer_partial"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.10.</span> <span class="description">A partial for the site footer. <br> <code>app/views/layouts/_footer.html.erb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="nt">&lt;footer&gt;</span>
  <span class="nt">&lt;nav</span> <span class="na">class=</span><span class="s">"round"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ul&gt;</span>
      <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"About"</span><span class="p">,</span> <span class="s1">'#'</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
      <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Contact"</span><span class="p">,</span> <span class="s1">'#'</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
      <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"http://news.railstutorial.org/"</span><span class="nt">&gt;</span>News<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
      <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"http://railstutorial.org/"</span><span class="nt">&gt;</span>Rails Tutorial<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;/ul&gt;</span>
  <span class="nt">&lt;/nav&gt;</span>
<span class="nt">&lt;/footer&gt;</span>
</pre></div>
</div></div>


<p>As with the header, in the footer we’ve used <code>link_to</code> for the internal links to the About and Contact pages and stubbed out the URIs with <code>’#’</code> for now. (As with <code>header</code>, the <code>footer</code> tag is new in HTML5.)</p>

<p>We can render the footer partial in the layout by following the same pattern as the stylesheets and header partials (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:layout_with_footer">Listing&nbsp;5.11</a>).</p>

<div class="label" id="code:layout_with_footer"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.11.</span> <span class="description">The site layout with a footer partial. <br> <code>app/views/layouts/application.html.erb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span><span class="cp">&lt;%=</span> <span class="n">full_title</span><span class="p">(</span><span class="k">yield</span><span class="p">(</span><span class="ss">:title</span><span class="p">))</span> <span class="cp">%&gt;</span><span class="nt">&lt;/title&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">render</span> <span class="s1">'layouts/stylesheets'</span> <span class="cp">%&gt;</span>
    <span class="cp">&lt;%=</span> <span class="n">csrf_meta_tags</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">render</span> <span class="s1">'layouts/header'</span> <span class="cp">%&gt;</span>
      <span class="nt">&lt;section</span> <span class="na">class=</span><span class="s">"round"</span><span class="nt">&gt;</span>
        <span class="cp">&lt;%=</span> <span class="k">yield</span> <span class="cp">%&gt;</span>
      <span class="nt">&lt;/section&gt;</span>
      <span class="cp">&lt;%=</span> <span class="n">render</span> <span class="s1">'layouts/footer'</span> <span class="cp">%&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div></div>


<p>Of course, the footer will be ugly without some styling (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:footer_css">Listing&nbsp;5.12</a>). The results appear in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fig:site_with_footer">Figure&nbsp;5.8</a>.</p>

<div class="label" id="code:footer_css"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.12.</span> <span class="description">Adding the CSS for the site footer. <br> <code>app/assets/stylesheets/layout.css</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="o">.</span>
<span class="o">.</span>
<span class="o">.</span>
<span class="nt">footer</span> <span class="p">{</span>
  <span class="k">text-align</span><span class="o">:</span> <span class="k">center</span><span class="p">;</span>
  <span class="k">margin-top</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span>
  <span class="k">width</span><span class="o">:</span> <span class="m">710px</span><span class="p">;</span>
  <span class="k">margin-left</span><span class="o">:</span> <span class="k">auto</span><span class="p">;</span>
  <span class="k">margin-right</span><span class="o">:</span> <span class="k">auto</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">footer</span> <span class="nt">nav</span> <span class="p">{</span>
  <span class="k">float</span><span class="o">:</span> <span class="k">none</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div></div>


<p>Note here the rule</p>

<div class="code"><div class="highlight"><pre><span class="nt">footer</span> <span class="nt">nav</span> <span class="p">{</span>
  <span class="k">float</span><span class="o">:</span> <span class="k">none</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>


<p>that overrides the previous rule</p>

<div class="code"><div class="highlight"><pre><span class="nt">nav</span> <span class="p">{</span>
  <span class="k">float</span><span class="o">:</span> <span class="k">right</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>


<p>so that the footer is centered in the bottom of the page rather than 
pushed off to the right like the navigation in the header. This 
convention of having a succession of rules, with subsequent rules 
possibly overriding previous ones, is what puts the <em>cascading</em> in cascading style sheets.</p>

<div class="label" id="fig:site_with_footer"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="filling-in-the-layout_files/site_with_footer.png" alt="site_with_footer"></span></div><div class="caption"><span class="header">Figure 5.8: </span><span class="description">The Home page (<a href="http://localhost:3000/static_pages/home"><tt>/static_pages/home</tt></a>) with an added footer.&nbsp;<a href="http://railstutorial.org/images/figures/site_with_footer-full.png">(full size)</a></span></div></div>




<div class="label" id="sec:sass_and_the_asset_pipeline"></div>


<h2><a id="sec:5.2" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:sass_and_the_asset_pipeline" class="heading"><span class="number">5.2</span> Sass and the asset pipeline</a></h2>


<p>One of the most notable differences between Rails&nbsp;3.0 and more 
recent versions is the asset pipeline, which significantly improves the 
production and management of static assets such as CSS, JavaScript, and 
images. This section gives a high-level overview of the asset pipeline 
and then shows how to use a remarkable tool for making CSS called <em>Sass</em>, now included by default as part of the asset pipeline.</p>

<div class="label" id="sec:the_asset_pipeline"></div>


<h3><a id="sec:5.2.1" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:the_asset_pipeline" class="heading"><span class="number">5.2.1</span> The asset pipeline</a></h3>


<p>The asset pipeline involves lots of changes under Rails’ hood, but 
from the perspective of a typical Rails developer there are three 
principal features to understand: asset directories, manifest files, and
 preprocessor engines.<sup class="footnote" id="fnref:5.9"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fn:5.9">9</a></sup> Let’s consider each in turn.</p>

<h4><a id="sec:5.2.1.1" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:5.2.1.1" class="heading">Asset directories</a></h4>


<p>In versions of Rails before 3.0 (including 3.0 itself), static assets lived in the <code>public/</code> directory, as follows:</p>

<ul>
<li><code>public/stylesheets</code></li>
<li><code>public/javascripts</code></li>
<li><code>public/images</code></li>
</ul>


<p>Files in these directories are (even post-3.0) automatically served up via requests to <tt>http://example.com/stylesheets</tt>, etc.</p>

<p>Starting in Rails 3.1, there are <em>three</em> canonical directories for static assets, each with its own purpose:</p>

<ul>
<li><code>app/assets</code>: assets specific to the present application</li>
<li><code>lib/assets</code>: assets for libraries written by your dev team</li>
<li><code>vendor/assets</code>: assets from third-party vendors</li>
</ul>


<p>As you might guess, each of these directories has a subdirectory for each asset class, e.g.,</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> ls app/assets/
<span class="go">images      javascripts stylesheets</span>
</pre></div>
</div>


<p>At this point, we’re in a position to understand the motivation behind the location of the Blueprint CSS files in <a class="ref" href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#sec:cascading_style_sheets">Section&nbsp;4.1.2</a> and the <code>layout.css</code> file in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:custom_css">Section&nbsp;5.1.2</a>. BlueprintCSS is an external CSS framework, so it goes in <code>vendor/assets/stylesheets</code>, whereas <code>layout.css</code> is specific to the sample application, so it goes in <code>app/assets/stylesheets</code>.</p>

<h4><a id="sec:5.2.1.2" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:5.2.1.2" class="heading">Manifest files</a></h4>


<p>Once you’ve placed your assets in their logical locations, you can use <em>manifest files</em> to tell Rails (via the <a href="https://github.com/sstephenson/sprockets?version=3.2#">Sprockets</a>
 gem) how to combine them to form single files. (This applies to CSS and
 JavaScript but not to images.) As an example, let’s take a look at the 
default manifest file for app stylesheets (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:app_css_manifest">Listing&nbsp;5.13</a>).</p>

<div class="label" id="code:app_css_manifest"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.13.</span> <span class="description">The manifest file for app-specific CSS. <br> <code>app/assets/stylesheets/application.css</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="c">/*</span>
<span class="c"> * This is a manifest file that'll automatically include all the stylesheets</span>
<span class="c"> * available in this directory and any sub-directories. You're free to add</span>
<span class="c"> * application-wide styles to this file and they'll appear at the top of the</span>
<span class="c"> * compiled file, but it's generally better to create a new file per style </span>
<span class="c"> * scope.</span>
<span class="c"> *= require_self</span>
<span class="c"> *= require_tree . </span>
<span class="c">*/</span>
</pre></div>
</div></div>


<p>The key lines here are actually CSS comments, but they are used by Sprockets to include the proper files:</p>

<div class="code"><div class="highlight"><pre><span class="c">/*</span>
<span class="c"> .</span>
<span class="c"> .</span>
<span class="c"> .</span>
<span class="c"> *= require_self</span>
<span class="c"> *= require_tree . </span>
<span class="c">*/</span>
</pre></div>
</div>


<p>Here</p>

<div class="code"><div class="highlight"><pre><span class="go">*= require_tree .</span>
</pre></div>
</div>


<p>ensures that all CSS files in the <code>app/assets/stylesheets</code> directory (including the tree subdirectories) are included into the application CSS. The line</p>

<div class="code"><div class="highlight"><pre><span class="go">*= require_self</span>
</pre></div>
</div>


<p>ensures that CSS in <code>application.css</code> is also included.</p>

<p>Rails comes with sensible default manifest files, and in the <em>Rails Tutorial</em> we won’t need to make any changes, but the <a href="http://guides.rubyonrails.org/asset_pipeline.html">Rails Guides entry on the asset pipeline</a> has more detail if you need it.</p>

<h4><a id="sec:5.2.1.3" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:5.2.1.3" class="heading">Preprocessor engines</a></h4>


<p>After you’ve assembled your assets, Rails prepares them for the site 
template by running them through several preprocessing engines and using
 the manifest files to combine them for delivery to the browser. We tell
 Rails which processor to use using filename extensions; the three most 
common cases are <code>.scss</code> for Sass, <code>.coffee</code> for CoffeeScript, and <code>.erb</code> for embedded Ruby (ERb). We first covered ERb in <a class="ref" href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:embedded_ruby">Section&nbsp;3.3.3</a>, and cover Sass in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:sass">Section&nbsp;5.2.2</a>. We won’t be needing CoffeeScript in this tutorial, but it’s an elegant little language that compiles to JavaScript. (The <a href="http://railscasts.com/episodes/267-coffeescript-basics">Railscast on CoffeeScript basics</a> is a good place to start.)</p>

<p>The preprocessor engines can be chained, so that</p>

<p><code>foobar.js.coffee</code></p>

<p>gets run through the CoffeeScript processor, and</p>

<p><code>foobar.js.erb.coffee</code></p>

<p>gets run through both CoffeeScript and ERb (with the code running from right to left, i.e., CoffeeScript first).</p>

<h4><a id="sec:5.2.1.4" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:5.2.1.4" class="heading">Efficiency in production</a></h4>


<p>One of the best things about the asset pipeline is that it 
automatically results in assets that are optimized to be efficient in a 
production application.  Traditional methods for organizing CSS and 
JavaScript involve splitting functionality into separate files and using
 nice formatting (with lots of indentation). While convenient for the 
programmer, this is inefficient in production; including multiple 
full-sized files can significantly slow page-load times (one of the most
 important factors affecting the quality of the user experience). With 
the asset pipeline, in production all the application stylesheets get 
rolled into one CSS file (<code>application.css</code>), all the application JavaScript code gets rolled into one JavaScript (<code>javascripts.css</code>), and all such files (including those in <code>lib/assets</code> and <code>vendor/assets</code>) are <em>minified</em>
 to remove the unnecessary whitespace that bloats file size. As a 
result, we get the best of both worlds: multiple nicely formatted files 
for programmer convenience, with single optimized files in production.</p>

<p>On some systems, including Heroku, it is necessary to precompile the assets before deploying. This is why (as in <a class="ref" href="http://ruby.railstutorial.org/chapters/a-demo-app?version=3.2#sec:deploying_the_demo_app">Section&nbsp;2.3.5</a> and <a class="ref" href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:static_pages_conclusion">Section&nbsp;3.4</a>) we have to run</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> bundle <span class="nb">exec </span>rake assets:precompile
</pre></div>
</div>


<p>before deploying to the Heroku server.</p>

<div class="label" id="sec:sass"></div>


<h3><a id="sec:5.2.2" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:sass" class="heading"><span class="number">5.2.2</span> Syntactically awesome stylesheets</a></h3>


<p><em>Sass</em> is a language for writing stylesheets that improves on 
CSS in many ways. In this section, we cover two of the most important 
improvements, <em>nesting</em> and <em>variables</em>.</p>

<p>Sass supports a format called SCSS (indicated with a <code>.scss</code> filename extension), which is a strict superset of CSS itself; that is, SCSS only <em>adds</em> features to CSS, rather than defining an entirely new syntax.<sup class="footnote" id="fnref:5.10"><a href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fn:5.10">10</a></sup>
 This means that every valid CSS file is also a valid SCSS file, which 
is convenient for projects with existing CSS files: we can immediately 
use our existing stylesheets and then convert them to use Sass at our 
leisure. Since the Rails asset pipeline automatically uses Sass to 
process SCSS files, we can change the <code>layout.css</code> file to use the filename extension for SCSS:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> mv app/assets/stylesheets/layout.css app/assets/stylesheets/layout.css.scss
</pre></div>
</div>


<p>This way the layout file will automatically be run through the Sass 
preprocessor before being packaged up for delivery to the browser.</p>

<h4><a id="sec:5.2.2.1" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:5.2.2.1" class="heading">Nesting</a></h4>


<p>A common pattern in stylesheets is having rules that apply to nested elements. For example, in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:header_content">Listing&nbsp;5.3</a> we have rules both for <code>header</code> and for <code>header img</code>:</p>

<div class="code"><div class="highlight"><pre><span class="nt">header</span> <span class="p">{</span>
  <span class="k">padding-top</span><span class="o">:</span> <span class="m">20px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">header</span> <span class="nt">img</span> <span class="p">{</span>
  <span class="k">padding</span><span class="o">:</span> <span class="m">1em</span><span class="p">;</span>
  <span class="k">background</span><span class="o">:</span> <span class="nb">white</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>


<p>We can replace this in Sass with</p>

<div class="code"><div class="highlight"><pre><span class="nt">header</span> <span class="p">{</span>
  <span class="na">padding-top</span><span class="o">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>

  <span class="nt">img</span> <span class="p">{</span>
    <span class="na">padding</span><span class="o">:</span> <span class="mi">1</span><span class="kt">em</span><span class="p">;</span>
    <span class="na">background</span><span class="o">:</span> <span class="nb">white</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>


<p>Here the nested <code>img</code> rules automatically inherit the <code>header</code> context.</p>

<p>There’s a second candidate for nesting that requires a slightly different syntax. In the code</p>

<div class="code"><div class="highlight"><pre><span class="nt">a</span> <span class="p">{</span>
  <span class="k">color</span><span class="o">:</span> <span class="m">#09c</span><span class="p">;</span>
  <span class="k">text-decoration</span><span class="o">:</span> <span class="k">none</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">a</span><span class="nd">:hover</span> <span class="p">{</span>
  <span class="k">color</span><span class="o">:</span> <span class="m">#069</span><span class="p">;</span>
  <span class="k">text-decoration</span><span class="o">:</span> <span class="k">underline</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">a</span><span class="nd">:visited</span> <span class="p">{</span>
  <span class="k">color</span><span class="o">:</span> <span class="m">#069</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>


<p>the anchor tag <code>a</code> is repeated with different attributes (<code>hover</code> and <code>visited</code>). The way to reference the parent tag inside nested SCSS is to use the ampersand character&nbsp;<code>&amp;</code>:</p>

<div class="code"><div class="highlight"><pre><span class="nt">a</span> <span class="p">{</span>
  <span class="na">color</span><span class="o">:</span> <span class="mh">#09c</span><span class="p">;</span>
  <span class="na">text-decoration</span><span class="o">:</span> <span class="no">none</span><span class="p">;</span>

  <span class="k">&amp;</span><span class="nd">:hover</span> <span class="p">{</span>
    <span class="na">color</span><span class="o">:</span> <span class="mh">#069</span><span class="p">;</span>
    <span class="na">text-decoration</span><span class="o">:</span> <span class="no">underline</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">&amp;</span><span class="nd">:visited</span> <span class="p">{</span>
    <span class="na">color</span><span class="o">:</span> <span class="mh">#069</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>


<h4><a id="sec:5.2.2.2" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:5.2.2.2" class="heading">Variables</a></h4>


<p>Sass allows us to define <em>variables</em> to eliminate duplication and write more expressive code. For example, looking at <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:header_content">Listing&nbsp;5.3</a>, we see that there are repeated references to the same color:</p>

<div class="code"><div class="highlight"><pre><span class="nt">a</span><span class="nd">:hover</span> <span class="p">{</span>
  <span class="k">color</span><span class="o">:</span> <span class="m">#069</span><span class="p">;</span>
  <span class="k">text-decoration</span><span class="o">:</span> <span class="k">underline</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">a</span><span class="nd">:visited</span> <span class="p">{</span>
  <span class="k">color</span><span class="o">:</span> <span class="m">#069</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>


<p>In this case, <code>#069</code> is a the color of visited links, so let’s define a variable indicating this purpose:</p>

<div class="code"><div class="highlight"><pre><span class="na">$visited-link-color</span><span class="o">:</span> <span class="mh">#069</span><span class="p">;</span>

<span class="nt">a</span><span class="nd">:hover</span> <span class="p">{</span>
  <span class="na">color</span><span class="o">:</span> <span class="nv">$visited-link-color</span><span class="p">;</span>
  <span class="na">text-decoration</span><span class="o">:</span> <span class="no">underline</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">a</span><span class="nd">:visited</span> <span class="p">{</span>
  <span class="na">color</span><span class="o">:</span> <span class="nv">$visited-link-color</span><span class="o">:</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>


<p>Because variable names such as <code>$visited-link-color</code> are more descriptive than <code>#069</code>, it’s often useful to define variables even for values that aren’t repeated.</p>

<p>Applying the Sass nesting and variable definition features to the full CSS file gives the SCSS file in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:refactored_scss">Listing&nbsp;5.14</a>. Note in particular the dramatic improvement in the rules for the <code>nav</code> tag.</p>

<div class="label" id="code:refactored_scss"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.14.</span> <span class="description">The initial CSS file converted to Sass’s SCSS format. <br> <code>app/assets/stylesheets/layout.css.scss</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="na">$full-width</span><span class="o">:</span> <span class="mi">710</span><span class="kt">px</span><span class="p">;</span>
<span class="na">$background-color</span><span class="o">:</span> <span class="mh">#cff</span><span class="p">;</span>
<span class="na">$link-color</span><span class="o">:</span> <span class="mh">#09c</span><span class="p">;</span>
<span class="na">$visited-link-color</span><span class="o">:</span> <span class="mh">#069</span><span class="p">;</span>

<span class="nc">.container</span> <span class="p">{</span>
  <span class="na">width</span><span class="o">:</span> <span class="nv">$full-width</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">body</span> <span class="p">{</span>
  <span class="na">background</span><span class="o">:</span> <span class="nv">$background-color</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">header</span> <span class="p">{</span>
  <span class="na">padding-top</span><span class="o">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>

  <span class="nt">img</span> <span class="p">{</span>
    <span class="na">padding</span><span class="o">:</span> <span class="mi">1</span><span class="kt">em</span><span class="p">;</span>
    <span class="na">background</span><span class="o">:</span> <span class="nb">white</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nt">section</span> <span class="p">{</span>
  <span class="na">margin-top</span><span class="o">:</span> <span class="mi">1</span><span class="kt">em</span><span class="p">;</span>
  <span class="na">font-size</span><span class="o">:</span> <span class="mi">120</span><span class="kt">%</span><span class="p">;</span>
  <span class="na">padding</span><span class="o">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
  <span class="na">background</span><span class="o">:</span> <span class="nb">white</span><span class="p">;</span>

  <span class="nt">h1</span> <span class="p">{</span>
    <span class="na">font-size</span><span class="o">:</span> <span class="mi">200</span><span class="kt">%</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* Links */</span>

<span class="nt">a</span> <span class="p">{</span>
  <span class="na">color</span><span class="o">:</span> <span class="nv">$link-color</span><span class="p">;</span>
  <span class="na">text-decoration</span><span class="o">:</span> <span class="no">none</span><span class="p">;</span>

  <span class="k">&amp;</span><span class="nd">:hover</span> <span class="p">{</span>
    <span class="na">color</span><span class="o">:</span> <span class="nv">$visited-link-color</span><span class="p">;</span>
    <span class="na">text-decoration</span><span class="o">:</span> <span class="no">underline</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">&amp;</span><span class="nd">:visited</span> <span class="p">{</span>
    <span class="na">color</span><span class="o">:</span> <span class="nv">$visited-link-color</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* Navigation */</span>

<span class="nt">nav</span> <span class="p">{</span>
  <span class="na">float</span><span class="o">:</span> <span class="no">right</span><span class="p">;</span>
  <span class="na">background-color</span><span class="o">:</span> <span class="nb">white</span><span class="p">;</span>
  <span class="na">padding</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">0</span><span class="mf">.7</span><span class="kt">em</span><span class="p">;</span>
  <span class="na">white-space</span><span class="o">:</span> <span class="no">nowrap</span><span class="p">;</span>

  <span class="nt">ul</span> <span class="p">{</span>
    <span class="na">margin</span><span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
    <span class="na">padding</span><span class="o">:</span> <span class="mi">0</span><span class="p">;</span>

    <span class="nt">li</span> <span class="p">{</span>
      <span class="na">list-style-type</span><span class="o">:</span> <span class="no">none</span><span class="p">;</span>
      <span class="na">display</span><span class="o">:</span> <span class="no">inline</span><span class="o">-</span><span class="no">block</span><span class="p">;</span>
      <span class="na">padding</span><span class="o">:</span> <span class="mi">0</span><span class="mf">.2</span><span class="kt">em</span> <span class="mi">0</span><span class="p">;</span>

      <span class="nt">a</span> <span class="p">{</span>
        <span class="na">padding</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">5</span><span class="kt">px</span><span class="p">;</span>
        <span class="na">font-weight</span><span class="o">:</span> <span class="no">bold</span><span class="p">;</span>

        <span class="k">&amp;</span><span class="nd">:visited</span> <span class="p">{</span>
          <span class="na">color</span><span class="o">:</span> <span class="nv">$link-color</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">&amp;</span><span class="nd">:hover</span> <span class="p">{</span>
          <span class="na">text-decoration</span><span class="o">:</span> <span class="no">underline</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* Sign up button */</span>

<span class="nt">a</span><span class="nc">.signup_button</span> <span class="p">{</span>
  <span class="na">margin-left</span><span class="o">:</span> <span class="no">auto</span><span class="p">;</span>
  <span class="na">margin-right</span><span class="o">:</span> <span class="no">auto</span><span class="p">;</span>
  <span class="na">display</span><span class="o">:</span> <span class="no">block</span><span class="p">;</span>
  <span class="na">text-align</span><span class="o">:</span> <span class="no">center</span><span class="p">;</span>
  <span class="na">width</span><span class="o">:</span> <span class="mi">190</span><span class="kt">px</span><span class="p">;</span>
  <span class="na">color</span><span class="o">:</span> <span class="nb">white</span><span class="p">;</span>
  <span class="na">background</span><span class="o">:</span> <span class="mh">#006400</span><span class="p">;</span>
  <span class="na">font-size</span><span class="o">:</span> <span class="mi">150</span><span class="kt">%</span><span class="p">;</span>
  <span class="na">font-weight</span><span class="o">:</span> <span class="no">bold</span><span class="p">;</span>
  <span class="na">padding</span><span class="o">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/* Round corners */</span>

<span class="nc">.round</span> <span class="p">{</span>
  <span class="na">-moz-border-radius</span><span class="o">:</span>    <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
  <span class="na">-webkit-border-radius</span><span class="o">:</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
  <span class="na">border-radius</span><span class="o">:</span>         <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">footer</span> <span class="p">{</span>
  <span class="na">text-align</span><span class="o">:</span> <span class="no">center</span><span class="p">;</span>
  <span class="na">margin-top</span><span class="o">:</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
  <span class="na">width</span><span class="o">:</span> <span class="nv">$full-width</span><span class="p">;</span>
  <span class="na">margin-left</span><span class="o">:</span> <span class="no">auto</span><span class="p">;</span>
  <span class="na">margin-right</span><span class="o">:</span> <span class="no">auto</span><span class="p">;</span>

  <span class="nt">nav</span> <span class="p">{</span>
    <span class="na">float</span><span class="o">:</span> <span class="no">none</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div></div>


<p>Sass gives us even more ways to simplify our stylesheets, but the code in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:refactored_scss">Listing&nbsp;5.14</a> uses the most important features and gives us a great start. See the <a href="http://sass-lang.com/">Sass website</a> for more detail.</p>

<div class="label" id="sec:layout_links"></div>


<h2><a id="sec:5.3" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:layout_links" class="heading"><span class="number">5.3</span> Layout links</a></h2>


<p>Now that we’ve finished a site layout with decent styling, it’s time to start filling in the links we’ve stubbed out with <code>’#’</code>. Of course, we could hard-code links like</p>

<div class="code"><div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/static_pages/about"</span><span class="nt">&gt;</span>About<span class="nt">&lt;/a&gt;</span>
</pre></div>
</div>


<p>but that isn’t the Rails Way. For one, it would be nice if the URI for the about page were <tt>/about</tt> rather than <tt>/static_pages/about</tt>; moreover, Rails conventionally uses <em>named routes</em>, which involves code like</p>

<div class="code"><div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"About"</span><span class="p">,</span> <span class="n">about_path</span> <span class="cp">%&gt;</span>
</pre></div>
</div>


<p>This way the code has a more transparent meaning, and it’s also more flexible since we can change the definition of <code>about_path</code> and have the URI change everywhere <code>about_path</code> is used.</p>

<p>The full list of our planned links appears in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#table:url_mapping">Table&nbsp;5.1</a>,
 along with their mapping to URIs and routes. We’ll implement all but 
the last one by the end of this chapter. (We’ll make the last one in <a class="ref" href="http://ruby.railstutorial.org/chapters/sign-in-sign-out?version=3.2#top">Chapter&nbsp;8</a>.)</p>

<div class="label" id="table:url_mapping"></div>


<div class="table"><div class="center"><table class="tabular"><tbody><tr><th class="align_left"><strong>Page</strong></th><th class="align_left"><strong>URI</strong></th><th class="align_right"><strong>Named route</strong></th></tr><tr class="top_bar"><td class="align_left">Home</td><td class="align_left"><tt>/</tt></td><td class="align_right"><code>root_path</code></td></tr><tr><td class="align_left">About</td><td class="align_left"><tt>/about</tt></td><td class="align_right"><code>about_path</code></td></tr><tr><td class="align_left">Help</td><td class="align_left"><tt>/help</tt></td><td class="align_right"><code>help_path</code></td></tr><tr><td class="align_left">Contact</td><td class="align_left"><tt>/contact</tt></td><td class="align_right"><code>contact_path</code></td></tr><tr><td class="align_left">Sign up</td><td class="align_left"><tt>/signup</tt></td><td class="align_right"><code>signup_path</code></td></tr><tr><td class="align_left">Sign in</td><td class="align_left"><tt>/signin</tt></td><td class="align_right"><code>signin_path</code></td></tr></tbody></table></div><div class="caption"><span class="header">Table 5.1: </span><span class="description">Route and URI mapping for site links.</span></div></div>


<p>Before moving on, let’s add a Contact page (left as an exercise in <a class="ref" href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#top">Chapter&nbsp;3</a>). The test appears as in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:contact_page_test">Listing&nbsp;5.15</a>, which simply follows the model last seen in <a class="ref" href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#code:pages_controller_spec_title">Listing&nbsp;3.18</a>. Note that, as in the application code, in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:contact_page_test">Listing&nbsp;5.15</a> we’ve switched to Ruby&nbsp;1.9–style hashes.</p>

<div class="label" id="code:contact_page_test"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.15.</span> <span class="description">Tests for a Contact page. <br> <code>spec/requests/static_pages_spec.rb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="nb">require</span> <span class="s1">'spec_helper'</span>

<span class="n">describe</span> <span class="s2">"Static pages"</span> <span class="k">do</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="n">describe</span> <span class="s2">"Contact page"</span> <span class="k">do</span>

    <span class="n">it</span> <span class="s2">"should have the h1 'Contact'"</span> <span class="k">do</span>
      <span class="n">visit</span> <span class="s1">'/static_pages/contact'</span>
      <span class="n">page</span><span class="o">.</span><span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'h1'</span><span class="p">,</span> <span class="ss">text:</span> <span class="s1">'Contact'</span><span class="p">)</span>
    <span class="k">end</span>

    <span class="n">it</span> <span class="s2">"should have the title 'Contact'"</span> <span class="k">do</span>
      <span class="n">visit</span> <span class="s1">'/static_pages/contact'</span>
      <span class="n">page</span><span class="o">.</span><span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'title'</span><span class="p">,</span>
                    <span class="ss">text:</span> <span class="s2">"Ruby on Rails Tutorial Sample App | Contact"</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div></div>


<p>You should verify that these tests fail:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> bundle <span class="nb">exec </span>rspec spec/requests/static_pages_spec.rb
</pre></div>
</div>


<p>The application code parallels the addition of the About page in <a class="ref" href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:adding_a_page">Section&nbsp;3.2.2</a>: first we update the routes (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:contact_route">Listing&nbsp;5.16</a>), then we add a <code>contact</code> action to the StaticPages controller (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:contact_action">Listing&nbsp;5.17</a>), and finally we create a Contact view (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:contact_view">Listing&nbsp;5.18</a>).</p>

<div class="label" id="code:contact_route"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.16.</span> <span class="description">Adding a route for the Contact page. <br> <code>config/routes.rb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="ss">SampleApp::Application</span><span class="o">.</span><span class="n">routes</span><span class="o">.</span><span class="n">draw</span> <span class="k">do</span>
  <span class="n">get</span> <span class="s2">"static_pages/home"</span>
  <span class="n">get</span> <span class="s2">"static_pages/help"</span>
  <span class="n">get</span> <span class="s2">"static_pages/about"</span>
  <span class="n">get</span> <span class="s2">"static_pages/contact"</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
<span class="k">end</span>
</pre></div>
</div></div>




<div class="label" id="code:contact_action"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.17.</span> <span class="description">Adding an action for the Contact page. <br> <code>app/controllers/static_pages_controller.rb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">StaticPagesController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="k">def</span> <span class="nf">contact</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div></div>




<div class="label" id="code:contact_view"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.18.</span> <span class="description">The view for the Contact page. <br> <code>app/views/static_pages/contact.html.erb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="cp">&lt;%</span> <span class="n">provide</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="s1">'Contact'</span><span class="p">)</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;h1&gt;</span>Contact<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;p&gt;</span>
  Contact Ruby on Rails Tutorial about the sample app at the
  <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"http://railstutorial.org/contact"</span><span class="nt">&gt;</span>contact page<span class="nt">&lt;/a&gt;</span>.
<span class="nt">&lt;/p&gt;</span>
</pre></div>
</div></div>


<p>Now make sure that the tests pass:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> bundle <span class="nb">exec </span>rspec spec/requests/static_pages_spec.rb
</pre></div>
</div>




<div class="label" id="sec:route_tests"></div>


<h3><a id="sec:5.3.1" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:route_tests" class="heading"><span class="number">5.3.1</span> Route tests</a></h3>


<p>With the work we’ve done writing integration test for the static 
pages, writing tests for the routes is simple: we just replace each 
occurrence of a hard-coded address with the desired named route from <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#table:url_mapping">Table&nbsp;5.1</a>. In other words, we change</p>

<div class="code"><div class="highlight"><pre><span class="n">visit</span> <span class="s1">'/static_pages/about'</span>
</pre></div>
</div>


<p>to</p>

<div class="code"><div class="highlight"><pre><span class="n">visit</span> <span class="n">about_path</span>
</pre></div>
</div>


<p>and so on for the other pages. The result appears in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:route_tests">Listing&nbsp;5.19</a>.</p>

<div class="label" id="code:route_tests"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.19.</span> <span class="description">Tests for the named routes. <br> <code>spec/requests/static_pages_spec.rb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="nb">require</span> <span class="s1">'spec_helper'</span>

<span class="n">describe</span> <span class="s2">"Static pages"</span> <span class="k">do</span>

  <span class="n">describe</span> <span class="s2">"Home page"</span> <span class="k">do</span>

    <span class="n">it</span> <span class="s2">"should have the h1 'Sample App'"</span> <span class="k">do</span>
      <span class="n">visit</span> <span class="n">root_path</span>
      <span class="n">page</span><span class="o">.</span><span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'h1'</span><span class="p">,</span> <span class="ss">text:</span> <span class="s1">'Sample App'</span><span class="p">)</span>
    <span class="k">end</span>

    <span class="n">it</span> <span class="s2">"should have the title 'Home'"</span> <span class="k">do</span>
      <span class="n">visit</span> <span class="n">root_path</span>
      <span class="n">page</span><span class="o">.</span><span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'title'</span><span class="p">,</span>
                        <span class="ss">text:</span> <span class="s2">"Ruby on Rails Tutorial Sample App | Home"</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="n">describe</span> <span class="s2">"Help page"</span> <span class="k">do</span>

    <span class="n">it</span> <span class="s2">"should have the h1 'Help'"</span> <span class="k">do</span>
      <span class="n">visit</span> <span class="n">help_path</span>
      <span class="n">page</span><span class="o">.</span><span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'h1'</span><span class="p">,</span> <span class="ss">text:</span> <span class="s1">'Help'</span><span class="p">)</span>
    <span class="k">end</span>

    <span class="n">it</span> <span class="s2">"should have the title 'Help'"</span> <span class="k">do</span>
      <span class="n">visit</span> <span class="n">help_path</span>
      <span class="n">page</span><span class="o">.</span><span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'title'</span><span class="p">,</span>
                        <span class="ss">text:</span> <span class="s2">"Ruby on Rails Tutorial Sample App | Help"</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="n">describe</span> <span class="s2">"About page"</span> <span class="k">do</span>

    <span class="n">it</span> <span class="s2">"should have the h1 'About'"</span> <span class="k">do</span>
      <span class="n">visit</span> <span class="n">about_path</span>
      <span class="n">page</span><span class="o">.</span><span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'h1'</span><span class="p">,</span> <span class="ss">text:</span> <span class="s1">'About Us'</span><span class="p">)</span>
    <span class="k">end</span>

    <span class="n">it</span> <span class="s2">"should have the title 'About Us'"</span> <span class="k">do</span>
      <span class="n">visit</span> <span class="n">about_path</span>
      <span class="n">page</span><span class="o">.</span><span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'title'</span><span class="p">,</span>
                    <span class="ss">text:</span> <span class="s2">"Ruby on Rails Tutorial Sample App | About Us"</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="n">describe</span> <span class="s2">"Contact page"</span> <span class="k">do</span>

    <span class="n">it</span> <span class="s2">"should have the h1 'Contact'"</span> <span class="k">do</span>
      <span class="n">visit</span> <span class="n">contact_path</span>
      <span class="n">page</span><span class="o">.</span><span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'h1'</span><span class="p">,</span> <span class="ss">text:</span> <span class="s1">'Contact'</span><span class="p">)</span>
    <span class="k">end</span>

    <span class="n">it</span> <span class="s2">"should have the title 'Contact'"</span> <span class="k">do</span>
      <span class="n">visit</span> <span class="n">contact_path</span>
      <span class="n">page</span><span class="o">.</span><span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'title'</span><span class="p">,</span>
                    <span class="ss">text:</span> <span class="s2">"Ruby on Rails Tutorial Sample App | Contact"</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div></div>


<p>As usual, you should check that the tests are now red:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> bundle <span class="nb">exec </span>rspec spec/requests/static_pages_spec.rb
</pre></div>
</div>


<p>By the way, if the code in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:route_tests">Listing&nbsp;5.19</a> strikes you as repetitive and verbose, you’re not alone. We’ll refactor this mess into a beautiful jewel in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:pretty_rspec">Section&nbsp;5.3.4</a>.</p>

<div class="label" id="sec:rails_routes"></div>


<h3><a id="sec:5.3.2" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:rails_routes" class="heading"><span class="number">5.3.2</span> Rails routes</a></h3>


<p>Now that we have tests for the URIs we want, it’s time to get them to work. As noted in <a class="ref" href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:static_pages_with_rails">Section&nbsp;3.1.2</a>, the file Rails uses for URI mappings is <code>config/routes.rb</code>.
 If you take a look at the default routes file, you’ll see that it’s 
quite a mess, but it’s a useful mess—full of commented-out example route
 mappings. I suggest reading through it at some point, and I also 
suggest taking a look at the <a href="http://guides.rubyonrails.org/routing.html">Rails Guides article “Rails Routing from the outside in”</a> for a much more in-depth treatment of routes.</p>

<p>To define the named routes, we need to replace rules such as</p>

<div class="code"><div class="highlight"><pre><span class="n">get</span> <span class="s1">'static_pages/help'</span>
</pre></div>
</div>


<p>with</p>

<div class="code"><div class="highlight"><pre><span class="n">match</span> <span class="s1">'/help'</span><span class="p">,</span> <span class="ss">to:</span> <span class="s1">'static_pages#help'</span>
</pre></div>
</div>


<p>This arranges both for a valid page at <code>/help</code> and a named route called <code>help_path</code> that returns the path to that page.</p>

<p>Applying this pattern to the other static pages gives <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:static_page_routes">Listing&nbsp;5.20</a>. The only exception is the Home page, which we’ll take care of the home page itself in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:root_route">Listing&nbsp;5.22</a>.</p>

<div class="label" id="code:static_page_routes"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.20.</span> <span class="description">Routes for static pages. <br> <code>config/routes.rb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="ss">SampleApp::Application</span><span class="o">.</span><span class="n">routes</span><span class="o">.</span><span class="n">draw</span> <span class="k">do</span>
  <span class="n">match</span> <span class="s1">'/help'</span><span class="p">,</span>    <span class="ss">to:</span> <span class="s1">'static_pages#help'</span>
  <span class="n">match</span> <span class="s1">'/about'</span><span class="p">,</span>   <span class="ss">to:</span> <span class="s1">'static_pages#about'</span>
  <span class="n">match</span> <span class="s1">'/contact'</span><span class="p">,</span> <span class="ss">to:</span> <span class="s1">'static_pages#contact'</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
<span class="k">end</span>
</pre></div>
</div></div>


<p>If you read the code in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:static_page_routes">Listing&nbsp;5.20</a> carefully, you can probably figure out what it does; for example, you can see that</p>

<div class="code"><div class="highlight"><pre><span class="n">match</span> <span class="s1">'/about'</span><span class="p">,</span> <span class="ss">to:</span> <span class="s1">'static_pages#about'</span>
</pre></div>
</div>


<p>matches <code>’/about’</code> and routes it to the <code>about</code> action in the StaticPages controller.  Before, this was more explicit: we used <code>get ’pages/about’</code> to get to the same place, but <code>/about</code> is more succinct. In addition, as mentioned above, the code <code>match ’/about’</code> also automatically creates <em>named routes</em> for use in the controllers and views:</p>

<div class="code"><div class="highlight"><pre><span class="n">about_path</span> <span class="o">=&gt;</span> <span class="s1">'/about'</span>
<span class="n">about_url</span>  <span class="o">=&gt;</span> <span class="s1">'http://localhost:3000/about'</span>
</pre></div>
</div>


<p>Note that <code>about_url</code> is the <em>full</em> URI <tt>http://localhost:3000/about</tt> (with <code>localhost:3000</code> being replaced with the domain name, such as <code>example.com</code>, for a fully deployed site). As discussed in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:layout_links">Section&nbsp;5.3</a>, to get just <tt>/about</tt>, you use <code>about_path</code>. (The <em>Rails Tutorial</em> uses the <code>path</code> form for consistency, but the difference rarely matters in practice.)</p>

<p>With these routes now defined, the tests for the Help, About, and Contact pages should pass.</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> bundle <span class="nb">exec </span>rspec spec/requests/static_pages_spec.rb
</pre></div>
</div>


<p>This leaves the test for the Home page as the last one to fail.</p>

<p>To establish the route mapping for the Home page, we <em>could</em> use code like this:</p>

<div class="code"><div class="highlight"><pre><span class="n">match</span> <span class="s1">'/'</span><span class="p">,</span> <span class="ss">to:</span> <span class="s1">'static_pages#home'</span>
</pre></div>
</div>


<p>This is unnecessary, though; Rails has special instructions for the root URI&nbsp;<tt>/</tt> (“slash”) located lower down in the file (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:root_route_hint">Listing&nbsp;5.21</a>).</p>

<div class="label" id="code:root_route_hint"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.21.</span> <span class="description">The commented-out hint for defining the root route. <br> <code>config/routes.rb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="ss">SampleApp::Application</span><span class="o">.</span><span class="n">routes</span><span class="o">.</span><span class="n">draw</span> <span class="k">do</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="c1"># You can have the root of your site routed with "root"</span>
  <span class="c1"># just remember to delete public/index.html.</span>
  <span class="c1"># root :to =&gt; "welcome#index"</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
<span class="k">end</span>
</pre></div>
</div></div>


<p>Using <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:root_route_hint">Listing&nbsp;5.21</a> as a model, we arrive at <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:root_route">Listing&nbsp;5.22</a> to route the root URI&nbsp;<tt>/</tt> to the Home page.</p>

<div class="label" id="code:root_route"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.22.</span> <span class="description">Adding a mapping for the root route. <br> <code>config/routes.rb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="ss">SampleApp::Application</span><span class="o">.</span><span class="n">routes</span><span class="o">.</span><span class="n">draw</span> <span class="k">do</span>
  <span class="n">match</span> <span class="s1">'/help'</span><span class="p">,</span>    <span class="ss">to:</span> <span class="s1">'static_pages#help'</span>
  <span class="n">match</span> <span class="s1">'/about'</span><span class="p">,</span>   <span class="ss">to:</span> <span class="s1">'static_pages#about'</span>
  <span class="n">match</span> <span class="s1">'/contact'</span><span class="p">,</span> <span class="ss">to:</span> <span class="s1">'static_pages#contact'</span>

  <span class="n">root</span> <span class="ss">to:</span> <span class="s1">'static_pages#home'</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
<span class="k">end</span>
</pre></div>
</div></div>


<p>This code maps the root URI&nbsp;<tt>/</tt> to <tt>/static_pages/home</tt>, and also gives URI helpers as follows:</p>

<div class="code"><div class="highlight"><pre><span class="n">root_path</span> <span class="o">=&gt;</span> <span class="s1">'/'</span>
<span class="n">root_url</span>  <span class="o">=&gt;</span> <span class="s1">'http://localhost:3000/'</span>
</pre></div>
</div>


<p>We should also heed the comment in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:root_route_hint">Listing&nbsp;5.21</a> and delete <code>public/index.html</code> to prevent Rails from rendering the default page (Figure&nbsp;fig:riding_rails_3 when we visit&nbsp;<tt>/</tt>.
 You can of course simply remove the file by trashing it, but if you’re 
using Git for version control there’s a way to tell Git about the 
removal at the same time using <code>git rm</code>:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git rm public/index.html
<span class="gp">$</span> git commit -am <span class="s2">"Remove default Rails page"</span>
</pre></div>
</div>


<p>You may recall from <a class="ref" href="http://ruby.railstutorial.org/chapters/beginning?version=3.2#sec:git_commands">Section&nbsp;1.3.5</a> that we used the Git command <code>git commit -a -m "Message"</code>, with flags for “all changes” (<code>-a</code>) and a message (<code>-m</code>). As shown above, Git also lets us roll the two flags into one using <code>git commit -am "Message"</code>.</p>

<p>With that, all of the routes for static pages are working, and the tests should pass:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> bundle <span class="nb">exec </span>rspec spec/requests/static_pages_spec.rb
</pre></div>
</div>


<p>Now we just have to fill in the links in the layout.</p>

<div class="label" id="sec:named_routes"></div>


<h3><a id="sec:5.3.3" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:named_routes" class="heading"><span class="number">5.3.3</span> Named routes</a></h3>


<p>Let’s put the named routes created in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:rails_routes">Section&nbsp;5.3.2</a> to work in our layout. This will entail filling in the second arguments of the <code>link_to</code> functions with the proper named routes. For example, we’ll convert</p>

<div class="code"><div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"About"</span><span class="p">,</span> <span class="s1">'#'</span> <span class="cp">%&gt;</span>
</pre></div>
</div>


<p>to</p>

<div class="code"><div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"About"</span><span class="p">,</span> <span class="n">about_path</span> <span class="cp">%&gt;</span>
</pre></div>
</div>


<p>and so on.</p>

<p>We’ll start in the header partial, <code>_header.html.erb</code> (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:header_partial_links">Listing&nbsp;5.23</a>),
 which has links to the Home and Help pages. While we’re at it, we’ll 
follow a common web convention and link the logo image to the Home page 
as well.</p>

<div class="label" id="code:header_partial_links"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.23.</span> <span class="description">Header partial with links. <br> <code>app/views/layouts/_header.html.erb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="nt">&lt;header&gt;</span>
  <span class="cp">&lt;%</span> <span class="n">logo</span> <span class="o">=</span> <span class="n">image_tag</span><span class="p">(</span><span class="s2">"logo.png"</span><span class="p">,</span> <span class="ss">alt:</span> <span class="s2">"Sample App"</span><span class="p">,</span> <span class="ss">class:</span> <span class="s2">"round"</span><span class="p">)</span> <span class="cp">%&gt;</span>
  <span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="n">logo</span><span class="p">,</span> <span class="n">root_path</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;nav</span> <span class="na">class=</span><span class="s">"round"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ul&gt;</span>
      <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Home"</span><span class="p">,</span> <span class="n">root_path</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
      <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Help"</span><span class="p">,</span> <span class="n">help_path</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
      <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Sign in"</span><span class="p">,</span> <span class="s1">'#'</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;/ul&gt;</span>
  <span class="nt">&lt;/nav&gt;</span>
<span class="nt">&lt;/header&gt;</span>
</pre></div>
</div></div>


<p>We won’t have a named route for the “Sign in” link until <a class="ref" href="http://ruby.railstutorial.org/chapters/sign-in-sign-out?version=3.2#top">Chapter&nbsp;8</a>, so we’ve left it as <code>’#’</code> for now. Note that this code defines the local variable <code>logo</code> for the logo image tag, and then links to it in the next line:</p>

<div class="code"><div class="highlight"><pre>  <span class="cp">&lt;%</span> <span class="n">logo</span> <span class="o">=</span> <span class="n">image_tag</span><span class="p">(</span><span class="s2">"logo.png"</span><span class="p">,</span> <span class="ss">alt:</span> <span class="s2">"Sample App"</span><span class="p">,</span> <span class="ss">class:</span> <span class="s2">"round"</span><span class="p">)</span> <span class="cp">%&gt;</span>
  <span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="n">logo</span><span class="p">,</span> <span class="n">root_path</span> <span class="cp">%&gt;</span>
</pre></div>
</div>


<p>This is a little cleaner than stuffing it all into one line. It’s 
especially important to notice that the ERb for the variable assignment 
doesn’t have an equals sign; it’s just <tt class="verb">&lt;% ... %&gt;</tt>,
 because we don’t want that line inserted into the template. (Using a 
local variable in this manner is only one way to do it. An even cleaner 
way might be to define a <code>logo</code> helper; see <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:layout_exercises">Section&nbsp;5.6</a>.)</p>

<p>The other place with links is the footer partial, <code>_footer.html.erb</code>, which has links for the About and Contact pages (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:footer_partial_links">Listing&nbsp;5.24</a>).</p>

<div class="label" id="code:footer_partial_links"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.24.</span> <span class="description">Footer partial with links. <br> <code>app/views/layouts/_footer.html.erb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="nt">&lt;footer&gt;</span>
  <span class="nt">&lt;nav</span> <span class="na">class=</span><span class="s">"round"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ul&gt;</span>
      <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"About"</span><span class="p">,</span> <span class="n">about_path</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
      <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Contact"</span><span class="p">,</span> <span class="n">contact_path</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
      <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"http://news.railstutorial.org/"</span><span class="nt">&gt;</span>News<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
      <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"http://railstutorial.org/"</span><span class="nt">&gt;</span>Rails Tutorial<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;/ul&gt;</span>
  <span class="nt">&lt;/nav&gt;</span>
<span class="nt">&lt;/footer&gt;</span>
</pre></div>
</div></div>


<p>With that, our layout has links to all the static pages created in <a class="ref" href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#top">Chapter&nbsp;3</a>, so that, for example, <a href="http://localhost:3000/about"><tt>/about</tt></a> goes to the About page (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fig:about_page">Figure&nbsp;5.9</a>).</p>

<p>By the way, it’s worth noting that, although we haven’t actually 
tested for the presence of the links on the layout, our tests will fail 
if the routes aren’t defined. You can check this by commenting out the 
routes in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:static_page_routes">Listing&nbsp;5.20</a> and running your test suite. For a testing method that actually makes sure the links go to the right places, see <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:layout_exercises">Section&nbsp;5.6</a>.</p>

<div class="label" id="fig:about_page"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="filling-in-the-layout_files/about_page.png" alt="about_page"></span></div><div class="caption"><span class="header">Figure 5.9: </span><span class="description">The About page at  <a href="http://localhost:3000/about"><tt>/about</tt></a>.&nbsp;<a href="http://railstutorial.org/images/figures/about_page-full.png">(full size)</a></span></div></div>




<div class="label" id="sec:pretty_rspec"></div>


<h3><a id="sec:5.3.4" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:pretty_rspec" class="heading"><span class="number">5.3.4</span> Pretty RSpec</a></h3>


<p>We noted in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:route_tests">Section&nbsp;5.3.1</a> that the tests for the static pages are getting a little verbose and repetitive (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:route_tests">Listing&nbsp;5.19</a>). In this section we’ll make use of the latest features of RSpec to make our tests more compact and elegant.</p>

<p>Let’s take a look at a couple of the examples to see how they can be improved:</p>

<div class="code"><div class="highlight"><pre><span class="n">describe</span> <span class="s2">"Home page"</span> <span class="k">do</span>

  <span class="n">it</span> <span class="s2">"should have the h1 'Sample App'"</span> <span class="k">do</span>
    <span class="n">visit</span> <span class="n">root_path</span>
    <span class="n">page</span><span class="o">.</span><span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'h1'</span><span class="p">,</span> <span class="ss">text:</span> <span class="s1">'Sample App'</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="n">it</span> <span class="s2">"should have the title 'Home'"</span> <span class="k">do</span>
    <span class="n">visit</span> <span class="n">root_path</span>
    <span class="n">page</span><span class="o">.</span><span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'title'</span><span class="p">,</span>
                      <span class="ss">text:</span> <span class="s2">"Ruby on Rails Tutorial Sample App | Home"</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>


<p>One thing we notice is that both examples include a visit to the root path. We can eliminate this duplication with a <code>before</code> block:</p>

<div class="code"><div class="highlight"><pre><span class="n">describe</span> <span class="s2">"Home page"</span> <span class="k">do</span>
  <span class="n">before</span> <span class="p">{</span> <span class="n">visit</span> <span class="n">root_path</span> <span class="p">}</span> 

  <span class="n">it</span> <span class="s2">"should have the h1 'Sample App'"</span> <span class="k">do</span>
    <span class="n">page</span><span class="o">.</span><span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'h1'</span><span class="p">,</span> <span class="ss">text:</span> <span class="s1">'Sample App'</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="n">it</span> <span class="s2">"should have the title 'Home'"</span> <span class="k">do</span>
    <span class="n">page</span><span class="o">.</span><span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'title'</span><span class="p">,</span>
                      <span class="ss">text:</span> <span class="s2">"Ruby on Rails Tutorial Sample App | Home"</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>


<p>This uses the line</p>

<div class="code"><div class="highlight"><pre><span class="n">before</span> <span class="p">{</span> <span class="n">visit</span> <span class="n">root_path</span> <span class="p">}</span>
</pre></div>
</div>


<p>to visit the root path before each example. (The <code>before</code> method can also be invoked with <code>before(:each)</code>, which is a synonym.)</p>

<p>Another source of duplication appears in each example; we have both</p>

<div class="code"><div class="highlight"><pre><span class="n">it</span> <span class="s2">"should have the h1 'Sample App'"</span> <span class="k">do</span>
</pre></div>
</div>


<p>and</p>

<div class="code"><div class="highlight"><pre><span class="n">page</span><span class="o">.</span><span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'h1'</span><span class="p">,</span> <span class="ss">text:</span> <span class="s1">'Sample App'</span><span class="p">)</span>
</pre></div>
</div>


<p>which say essentially the same thing. In addition, both examples reference the <code>page</code> variable. We can eliminate these sources of duplication by telling RSpec that <code>page</code> is the <em>subject</em> of the tests using</p>

<div class="code"><div class="highlight"><pre><span class="n">subject</span> <span class="p">{</span> <span class="n">page</span> <span class="p">}</span>
</pre></div>
</div>


<p>and then using a variant of the <code>it</code> method to collapse the code and description into one line:</p>

<div class="code"><div class="highlight"><pre><span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'h1'</span><span class="p">,</span> <span class="ss">text:</span> <span class="s1">'Sample App'</span><span class="p">)</span> <span class="p">}</span>
</pre></div>
</div>


<p>Because of <code>subject { page }</code>, the call to <code>should</code> automatically uses the <code>page</code> variable supplied by Capybara (<a class="ref" href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:TDD">Section&nbsp;3.2.1</a>).</p>

<p>Applying these changes gives much more compact tests for the Home page:</p>

<div class="code"><div class="highlight"><pre>  <span class="n">subject</span> <span class="p">{</span> <span class="n">page</span> <span class="p">}</span>

  <span class="n">describe</span> <span class="s2">"Home page"</span> <span class="k">do</span>
    <span class="n">before</span> <span class="p">{</span> <span class="n">visit</span> <span class="n">root_path</span> <span class="p">}</span> 

    <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'h1'</span><span class="p">,</span> <span class="ss">text:</span> <span class="s1">'Sample App'</span><span class="p">)</span> <span class="p">}</span>
    <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">have_selector</span> <span class="s1">'title'</span><span class="p">,</span>
                        <span class="ss">text:</span> <span class="s2">"Ruby on Rails Tutorial Sample App | Home"</span> <span class="p">}</span>
  <span class="k">end</span>
</pre></div>
</div>


<p>This code looks nicer, but the title test is still a bit long. Indeed, all of the title tests in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:route_tests">Listing&nbsp;5.19</a> have long title text of the form</p>

<div class="code"><div class="highlight"><pre><span class="s2">"Ruby on Rails Tutorial Sample App | Home"</span>
</pre></div>
</div>


<p>An exercise in <a class="ref" href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:static_pages_exercises">Section&nbsp;3.5</a> proposes eliminating some of this duplication by defining a <code>base_title</code> variable and using string interpolation (<a class="ref" href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#code:pages_controller_spec_exercise">Listing&nbsp;3.30</a>). We can do even better by defining a utility function for <code>full_title</code>, which parallels the <code>full_title</code> helper from <a class="ref" href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#code:title_helper">Listing&nbsp;4.2</a>. (See if you can figure out why we don’t just use the <code>full_title</code> helper itself. <em>Hint:</em> What if there were a typo in the base title?) We do this by creating both a <code>spec/support</code> directory and a <code>utilities.rb</code> file for RSpec utilities (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:rspec_utilities">Listing&nbsp;5.25</a>).</p>

<div class="label" id="code:rspec_utilities"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.25.</span> <span class="description">A file for RSpec utilities with a <code>full_title</code> function. <br> <code>spec/support/utilites.rb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">full_title</span><span class="p">(</span><span class="n">page_title</span><span class="p">)</span>
  <span class="n">base_title</span> <span class="o">=</span> <span class="s2">"Ruby on Rails Tutorial Sample App"</span>
  <span class="k">if</span> <span class="n">page_title</span><span class="o">.</span><span class="n">empty?</span>
    <span class="n">base_title</span>
  <span class="k">else</span>
    <span class="s2">"</span><span class="si">#{</span><span class="n">base_title</span><span class="si">}</span><span class="s2"> | </span><span class="si">#{</span><span class="n">page_title</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div></div>


<p>Files in the <code>spec/support</code> directory are automatically included by RSpec, which means that we can write the Home tests as follows:</p>

<div class="code"><div class="highlight"><pre>  <span class="n">subject</span> <span class="p">{</span> <span class="n">page</span> <span class="p">}</span>

  <span class="n">describe</span> <span class="s2">"Home page"</span> <span class="k">do</span>
    <span class="n">before</span> <span class="p">{</span> <span class="n">visit</span> <span class="n">root_path</span> <span class="p">}</span> 

    <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'h1'</span><span class="p">,</span>    <span class="ss">text:</span> <span class="s1">'Sample App'</span><span class="p">)</span> <span class="p">}</span>
    <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'title'</span><span class="p">,</span> <span class="ss">text:</span> <span class="n">full_title</span><span class="p">(</span><span class="s1">'Home'</span><span class="p">))</span> <span class="p">}</span>
  <span class="k">end</span>
</pre></div>
</div>


<p>We can now simplify the tests for the Help, About, and Contact pages 
using the same methods used for the Home page. The results appear in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:pretty_page_tests">Listing&nbsp;5.26</a>.</p>

<div class="label" id="code:pretty_page_tests"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.26.</span> <span class="description">Prettier tests for the static pages. <br> <code>spec/requests/static_pages_specs.rb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="nb">require</span> <span class="s1">'spec_helper'</span>

<span class="n">describe</span> <span class="s2">"Static pages"</span> <span class="k">do</span>

  <span class="n">subject</span> <span class="p">{</span> <span class="n">page</span> <span class="p">}</span>

  <span class="n">describe</span> <span class="s2">"Home page"</span> <span class="k">do</span>
    <span class="n">before</span> <span class="p">{</span> <span class="n">visit</span> <span class="n">root_path</span> <span class="p">}</span>

    <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'h1'</span><span class="p">,</span>    <span class="ss">text:</span> <span class="s1">'Sample App'</span><span class="p">)</span> <span class="p">}</span>
    <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'title'</span><span class="p">,</span> <span class="ss">text:</span> <span class="n">full_title</span><span class="p">(</span><span class="s1">'Home'</span><span class="p">))</span> <span class="p">}</span>
  <span class="k">end</span>

  <span class="n">describe</span> <span class="s2">"Help page"</span> <span class="k">do</span>
    <span class="n">before</span> <span class="p">{</span> <span class="n">visit</span> <span class="n">help_path</span> <span class="p">}</span>

    <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'h1'</span><span class="p">,</span>    <span class="ss">text:</span> <span class="s1">'Help'</span><span class="p">)</span> <span class="p">}</span>
    <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'title'</span><span class="p">,</span> <span class="ss">text:</span> <span class="n">full_title</span><span class="p">(</span><span class="s1">'Help'</span><span class="p">))</span> <span class="p">}</span>
  <span class="k">end</span>

  <span class="n">describe</span> <span class="s2">"About page"</span> <span class="k">do</span>
    <span class="n">before</span> <span class="p">{</span> <span class="n">visit</span> <span class="n">about_path</span> <span class="p">}</span>

    <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'h1'</span><span class="p">,</span>    <span class="ss">text:</span> <span class="s1">'About'</span><span class="p">)</span> <span class="p">}</span>
    <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'title'</span><span class="p">,</span> <span class="ss">text:</span> <span class="n">full_title</span><span class="p">(</span><span class="s1">'About Us'</span><span class="p">))</span> <span class="p">}</span>
  <span class="k">end</span>

  <span class="n">describe</span> <span class="s2">"Contact page"</span> <span class="k">do</span>
    <span class="n">before</span> <span class="p">{</span> <span class="n">visit</span> <span class="n">contact_path</span> <span class="p">}</span>

    <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'h1'</span><span class="p">,</span>    <span class="ss">text:</span> <span class="s1">'Contact'</span><span class="p">)</span> <span class="p">}</span>
    <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'title'</span><span class="p">,</span> <span class="ss">text:</span> <span class="n">full_title</span><span class="p">(</span><span class="s1">'Contact'</span><span class="p">))</span> <span class="p">}</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div></div>


<p>This RSpec style in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:pretty_page_tests">Listing&nbsp;5.26</a> is much pithier than the style in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:route_tests">Listing&nbsp;5.19</a>—indeed, it can be made even pithier (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:layout_exercises">Section&nbsp;5.6</a>). We will use this more compact style whenever possible when developing the rest of the sample application.</p>

<div class="label" id="sec:user_signup"></div>


<h2><a id="sec:5.4" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:user_signup" class="heading"><span class="number">5.4</span> User signup: A first step</a></h2>


<p>As a capstone to our work on the layout and routing, in this section 
we’ll make a route for the signup page, which will mean creating a 
second controller along the way. This is a first important step toward 
allowing users to register for our site; we’ll take the next step, 
modeling users, in <a class="ref" href="http://ruby.railstutorial.org/chapters/modeling-users?version=3.2#top">Chapter&nbsp;6</a>, and we’ll finish the job in <a class="ref" href="http://ruby.railstutorial.org/chapters/sign-up?version=3.2#top">Chapter&nbsp;7</a>.</p>

<div class="label" id="sec:users_controller"></div>


<h3><a id="sec:5.4.1" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:users_controller" class="heading"><span class="number">5.4.1</span> Users controller</a></h3>


<p>It’s been a while since we created our first controller, the StaticPages controller, way back in <a class="ref" href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#sec:static_pages_with_rails">Section&nbsp;3.1.2</a>. It’s time to create a second one, the Users controller. As before, we’ll use <code>generate</code>
 to make the simplest controller that meets our present needs, namely, 
one with a stub signup page for new users. Following the conventional <a href="http://en.wikipedia.org/wiki/Representational_State_Transfer">REST architecture</a> favored by Rails, we’ll call the action for new users <code>new</code> and pass it as an argument to <code>generate controller</code> to create it automatically (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:generate_users_controller">Listing&nbsp;5.27</a>).</p>

<div class="label" id="code:generate_users_controller"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.27.</span> <span class="description">Generating a Users controller (with a <code>new</code> action).</span> </div>
<div class="code"><div class="highlight"><pre><span class="gp">$</span> rails generate controller Users new --no-test-framework
<span class="go">      create  app/controllers/users_controller.rb</span>
<span class="go">       route  get "users/new"</span>
<span class="go">      invoke  erb</span>
<span class="go">      create    app/views/users</span>
<span class="go">      create    app/views/users/new.html.erb</span>
<span class="go">      invoke  helper</span>
<span class="go">      create    app/helpers/users_helper.rb</span>
<span class="go">      invoke  assets</span>
<span class="go">      invoke    coffee</span>
<span class="go">      create      app/assets/javascripts/users.js.coffee</span>
<span class="go">      invoke    scss</span>
<span class="go">      create      app/assets/stylesheets/users.css.scss</span>
</pre></div>
</div></div>


<p>This creates a Users controller with a <code>new</code> action (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:initial_users_controller">Listing&nbsp;5.28</a>) and a stub user view (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:initial_new_action">Listing&nbsp;5.29</a>).</p>

<div class="label" id="code:initial_users_controller"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.28.</span> <span class="description">The initial Users controller, with a <code>new</code> action. <br> <code>app/controllers/users_controller.rb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">UsersController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="k">def</span> <span class="nf">new</span>
  <span class="k">end</span>

<span class="k">end</span>
</pre></div>
</div></div>




<div class="label" id="code:initial_new_action"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.29.</span> <span class="description">The initial <code>new</code> action for Users. <br> <code>app/views/users/new.html.erb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="nt">&lt;h1&gt;</span>Users#new<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;p&gt;</span>Find me in app/views/users/new.html.erb<span class="nt">&lt;/p&gt;</span>
</pre></div>
</div></div>




<div class="label" id="sec:signup_url"></div>


<h3><a id="sec:5.4.2" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:signup_url" class="heading"><span class="number">5.4.2</span> Signup URI</a></h3>


<p>With the code from <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:users_controller">Section&nbsp;5.4.1</a>, we already have a working page for new users at <tt>/users/new</tt>, but recall from <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#table:url_mapping">Table&nbsp;5.1</a> that we want the URI to be <tt>/signup</tt> instead. As in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:layout_links">Section&nbsp;5.3</a>, we’ll first write some integration tests, which we’ll now generate:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> rails generate integration_test user_pages
</pre></div>
</div>


<p>Then, following the model of the static pages spec in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:pretty_page_tests">Listing&nbsp;5.26</a>, we’ll fill in the user pages test with code to test for the contents of the <code>h1</code> and <code>title</code> tags, as seen in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:user_pages_spec">Listing&nbsp;5.30</a>.</p>

<div class="label" id="code:user_pages_spec"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.30.</span> <span class="description">The initial spec for users, with a test for the signup page. <br> <code>spec/requests/user_pages_spec.rb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="nb">require</span> <span class="s1">'spec_helper'</span>

<span class="n">describe</span> <span class="s2">"User pages"</span> <span class="k">do</span>

  <span class="n">subject</span> <span class="p">{</span> <span class="n">page</span> <span class="p">}</span>

  <span class="n">describe</span> <span class="s2">"signup page"</span> <span class="k">do</span>
    <span class="n">before</span> <span class="p">{</span> <span class="n">visit</span> <span class="n">signup_path</span> <span class="p">}</span>

    <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'h1'</span><span class="p">,</span>    <span class="ss">text:</span> <span class="s1">'Sign up'</span><span class="p">)</span> <span class="p">}</span>
    <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'title'</span><span class="p">,</span> <span class="ss">text:</span> <span class="n">full_title</span><span class="p">(</span><span class="s1">'Sign up'</span><span class="p">))</span> <span class="p">}</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div></div>


<p>We can run these tests using the <code>rspec</code> command as usual:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> bundle <span class="nb">exec </span>rspec spec/requests/user_pages_spec.rb
</pre></div>
</div>


<p>It’s worth nothing that we can also run the all the request specs by passing the whole directory instead of just one file:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> bundle <span class="nb">exec </span>rspec spec/requests/
</pre></div>
</div>


<p>Based on this pattern, you may be able to guess how to run <em>all</em> the specs:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> bundle <span class="nb">exec </span>rspec spec/
</pre></div>
</div>


<p>For completeness, we’ll usually use this method to run the tests 
through the rest of the tutorial. By the way, it’s worth noting (since 
you may see other people use it) that you can also run the test suite 
using the <code>spec</code> Rake task:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> bundle <span class="nb">exec </span>rake spec
</pre></div>
</div>


<p>(In fact, you can just type <code>rake</code> by itself; the default behavior of <code>rake</code> is to run the test suite.)</p>

<p>By construction, the Users controller already has a <code>new</code> action, so to get the test to pass all we need is the right route and the right view content. We’ll follow the examples from <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:static_page_routes">Listing&nbsp;5.20</a> and add a <code>match ’/signup’</code> rule for the signup URI (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:signup_route">Listing&nbsp;5.31</a>).</p>

<div class="label" id="code:signup_route"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.31.</span> <span class="description">A route for the signup page. <br> <code>config/routes.rb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="ss">SampleApp::Application</span><span class="o">.</span><span class="n">routes</span><span class="o">.</span><span class="n">draw</span> <span class="k">do</span>
  <span class="n">get</span> <span class="s2">"users/new"</span>

  <span class="n">match</span> <span class="s1">'/signup'</span><span class="p">,</span>  <span class="ss">to:</span> <span class="s1">'users#new'</span>

  <span class="n">match</span> <span class="s1">'/help'</span><span class="p">,</span>    <span class="ss">to:</span> <span class="s1">'static_pages#help'</span>
  <span class="n">match</span> <span class="s1">'/about'</span><span class="p">,</span>   <span class="ss">to:</span> <span class="s1">'static_pages#about'</span>
  <span class="n">match</span> <span class="s1">'/contact'</span><span class="p">,</span> <span class="ss">to:</span> <span class="s1">'static_pages#contact'</span>

  <span class="n">root</span> <span class="ss">to:</span> <span class="s1">'static_pages#home'</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
<span class="k">end</span>
</pre></div>
</div></div>


<p>Note that we have kept the rule <code>get "users/new"</code>, which was generated automatically by the Users controller generation in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:generate_users_controller">Listing&nbsp;5.27</a>. Currently, this rule is necessary for the <code>’users#new’</code> routing to work, but it doesn’t follow the proper REST conventions (<a class="ref" href="http://ruby.railstutorial.org/chapters/a-demo-app?version=3.2#table:demo_RESTful_users">Table&nbsp;2.2</a>), and we will eliminate it in Section&nbsp;sec:a_users_resource.</p>

<p>To get the tests to pass, all we need now is a view with the title and heading “Sign up” (<a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:initial_signup_page">Listing&nbsp;5.32</a>).</p>

<div class="label" id="code:initial_signup_page"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.32.</span> <span class="description">The initial (stub) signup page. <br> <code>app/views/users/new.html.erb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">provide</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="s1">'Sign up'</span><span class="p">)</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;h1&gt;</span>Sign up<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;p&gt;</span>Find me in app/views/users/new.html.erb<span class="nt">&lt;/p&gt;</span>
</pre></div>
</div></div>


<p>At this point, the signup test in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:user_pages_spec">Listing&nbsp;5.30</a> should pass. All that’s left is to add the proper link to the button on the Home page. As with the other routes, <code>match ’/signup’</code> gives us the named route <code>signup_path</code>, which we put to use in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:home_page_signup_link">Listing&nbsp;5.33</a>.</p>

<div class="label" id="code:home_page_signup_link"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.33.</span> <span class="description">Linking the button to the Signup page. <br> <code>app/views/static_pages/home.html.erb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="cp">&lt;%</span> <span class="n">provide</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="s1">'Home'</span><span class="p">)</span> <span class="cp">%&gt;</span>
<span class="nt">&lt;h1&gt;</span>Sample App<span class="nt">&lt;/h1&gt;</span>

<span class="nt">&lt;p&gt;</span>
  This is the home page for the
  <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"http://railstutorial.org/"</span><span class="nt">&gt;</span>Ruby on Rails Tutorial<span class="nt">&lt;/a&gt;</span>
  sample application.
<span class="nt">&lt;/p&gt;</span>

<span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Sign up now!"</span><span class="p">,</span> <span class="n">signup_path</span><span class="p">,</span> <span class="ss">class:</span> <span class="s2">"signup_button round"</span> <span class="cp">%&gt;</span>
</pre></div>
</div></div>


<p>With that, we’re done with the links and named routes, at least until we add a route for signing in (<a class="ref" href="http://ruby.railstutorial.org/chapters/sign-in-sign-out?version=3.2#top">Chapter&nbsp;8</a>). The resulting new user page (at the URI <tt>/signup</tt>) appears in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fig:new_signup_page">Figure&nbsp;5.10</a>.</p>

<div class="label" id="fig:new_signup_page"></div>


<div class="figure"><div class="center"><span class="graphic"><img src="filling-in-the-layout_files/new_signup_page.png" alt="new_signup_page"></span></div><div class="caption"><span class="header">Figure 5.10: </span><span class="description">The new signup page at  <a href="http://localhost:3000/signup"><tt>/signup</tt></a>.&nbsp;<a href="http://railstutorial.org/images/figures/new_signup_page-full.png">(full size)</a></span></div></div>


<p>At this point the tests should pass:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> bundle <span class="nb">exec </span>rspec spec/
</pre></div>
</div>




<div class="label" id="sec:layout_conclusion"></div>


<h2><a id="sec:5.5" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:layout_conclusion" class="heading"><span class="number">5.5</span> Conclusion</a></h2>


<p>In this chapter, we’ve hammered our application layout into shape and
 polished up the routes. The rest of the book is dedicated to fleshing 
out the sample application: first, by adding users who can sign up, sign
 in, and sign out; next, by adding user microposts; and, finally, by 
adding user following.</p>

<p>If you’re following along with Git, be sure to commit and merge (and, just to be paranoid, run your tests first):</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> bundle <span class="nb">exec </span>rspec spec/
<span class="gp">$</span> git add .
<span class="gp">$</span> git commit -m <span class="s2">"Finish layout and routes"</span>
<span class="gp">$</span> git checkout master
<span class="gp">$</span> git merge filling-in-layout
</pre></div>
</div>


<p>You might also want to push up to GitHub, or deploy to Heroku:</p>

<div class="code"><div class="highlight"><pre><span class="gp">$</span> git push
<span class="gp">$</span> git push heroku
</pre></div>
</div>




<div class="label" id="sec:layout_exercises"></div>


<h2><a id="sec:5.6" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#sec:layout_exercises" class="heading"><span class="number">5.6</span> Exercises</a></h2>




<ol>
<li>Replace the local variable <code>logo</code> in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:header_partial_links">Listing&nbsp;5.23</a> with a helper method of the same name, so that the new partial looks like <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:header_partial_logo">Listing&nbsp;5.34</a>. Use the code in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:logo_helper_stub">Listing&nbsp;5.36</a> to help you get started.</li>

<li>The code in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:pretty_page_tests">Listing&nbsp;5.26</a> for testing static pages is compact but is still a bit repetitive. RSpec supports a facility called <em>shared examples</em> to eliminate the kind of duplication. By following the example in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:static_pages_spec_shared_example">Listing&nbsp;5.35</a>, fill in the missing tests for the Help, About, and Contact pages. Note that the <code>let</code> command, introduced briefly in <a class="ref" href="http://ruby.railstutorial.org/chapters/static-pages?version=3.2#code:pages_controller_spec_exercise">Listing&nbsp;3.30</a>,
 creates a local variable with the given value on demand (i.e., when the
 variable is used), in contrast to an instance variable, which is 
created upon assignment.</li>

<li>You may have noticed that our tests for the layout links test the 
routing but don’t actually check that the links on the layout go to the 
right pages. One way to implement these tests is to use <code>visit</code> and <code>click_link</code> inside the RSpec integration test. Fill in the code in <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:layout_links_test">Listing&nbsp;5.37</a> to verify that all the layout links are properly defined.</li>

</ol>




<div class="label" id="code:header_partial_logo"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.34.</span> <span class="description">Header partial with the logo helper from <a class="ref" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#code:logo_helper_stub">Listing&nbsp;5.36</a>. <br> <code>app/views/layouts/_header.html.erb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="nt">&lt;header&gt;</span>
  <span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="n">logo</span><span class="p">,</span> <span class="n">root_path</span> <span class="cp">%&gt;</span>
  <span class="nt">&lt;nav</span> <span class="na">class=</span><span class="s">"round"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ul&gt;</span>
      <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Home"</span><span class="p">,</span> <span class="n">root_path</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
      <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Help"</span><span class="p">,</span> <span class="n">help_path</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
      <span class="nt">&lt;li&gt;</span><span class="cp">&lt;%=</span> <span class="n">link_to</span> <span class="s2">"Sign in"</span><span class="p">,</span> <span class="s1">'#'</span> <span class="cp">%&gt;</span><span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;/ul&gt;</span>
  <span class="nt">&lt;/nav&gt;</span>
<span class="nt">&lt;/header&gt;</span>
</pre></div>
</div></div>




<div class="label" id="code:static_pages_spec_shared_example"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.35.</span> <span class="description">Using an RSpec shared example to eliminate test duplication. <br> <code>spec/requests/static_pages_spec.rb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="nb">require</span> <span class="s1">'spec_helper'</span>

<span class="n">describe</span> <span class="s2">"Static pages"</span> <span class="k">do</span>

  <span class="n">subject</span> <span class="p">{</span> <span class="n">page</span> <span class="p">}</span>

  <span class="n">shared_examples_for</span> <span class="s2">"all static pages"</span> <span class="k">do</span>
    <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'h1'</span><span class="p">,</span>    <span class="ss">text:</span> <span class="n">heading</span><span class="p">)</span> <span class="p">}</span>
    <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">have_selector</span><span class="p">(</span><span class="s1">'title'</span><span class="p">,</span> <span class="ss">text:</span> <span class="n">full_title</span><span class="p">(</span><span class="n">page_title</span><span class="p">))</span> <span class="p">}</span>
  <span class="k">end</span>

  <span class="n">describe</span> <span class="s2">"Home page"</span> <span class="k">do</span>
    <span class="n">before</span> <span class="p">{</span> <span class="n">visit</span> <span class="n">root_path</span> <span class="p">}</span>
    <span class="n">let</span><span class="p">(</span><span class="ss">:heading</span><span class="p">)</span>    <span class="p">{</span> <span class="s1">'Sample App'</span> <span class="p">}</span>
    <span class="n">let</span><span class="p">(</span><span class="ss">:page_title</span><span class="p">)</span> <span class="p">{</span> <span class="s1">'Home'</span> <span class="p">}</span>

    <span class="n">it_should_behave_like</span> <span class="s2">"all static pages"</span>
  <span class="k">end</span>

  <span class="n">describe</span> <span class="s2">"Help page"</span> <span class="k">do</span>
    <span class="o">.</span>
    <span class="o">.</span>
    <span class="o">.</span>
  <span class="k">end</span>

  <span class="n">describe</span> <span class="s2">"About page"</span> <span class="k">do</span>
    <span class="o">.</span>
    <span class="o">.</span>
    <span class="o">.</span>
  <span class="k">end</span>

  <span class="n">describe</span> <span class="s2">"Contact page"</span> <span class="k">do</span>
    <span class="o">.</span>
    <span class="o">.</span>
    <span class="o">.</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div></div>




<div class="label" id="code:logo_helper_stub"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.36.</span> <span class="description">A template for the <code>logo</code> helper. <br> <code>app/helpers/application_helper.rb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="k">module</span> <span class="nn">ApplicationHelper</span>

  <span class="k">def</span> <span class="nf">logo</span>
    <span class="c1"># Fill in.</span>
  <span class="k">end</span>

  <span class="c1"># Returns the full title on a per-page basis.</span>
  <span class="k">def</span> <span class="nf">full_title</span><span class="p">(</span><span class="n">page_title</span><span class="p">)</span>
    <span class="o">.</span>
    <span class="o">.</span>
    <span class="o">.</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div></div>




<div class="label" id="code:layout_links_test"></div>


<div class="codelisting">
<div class="listing"><span class="header">Listing 5.37.</span> <span class="description">A test for the links on the layout. <br> <code>spec/requests/static_pages_spec.rb</code></span>       
</div>
<div class="code"><div class="highlight"><pre><span class="nb">require</span> <span class="s1">'spec_helper'</span>

<span class="n">describe</span> <span class="s2">"Static pages"</span> <span class="k">do</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="o">.</span>
  <span class="n">it</span> <span class="s2">"should have the right links on the layout"</span> <span class="k">do</span>
    <span class="n">visit</span> <span class="n">root_path</span>
    <span class="n">click_link</span> <span class="s2">"About"</span>
    <span class="n">page</span><span class="o">.</span><span class="n">should</span> <span class="n">have_selector</span> <span class="s1">'title'</span><span class="p">,</span> <span class="ss">text:</span> <span class="n">full_title</span><span class="p">(</span><span class="s1">'About'</span><span class="p">)</span>
    <span class="n">click_link</span> <span class="s2">"Help"</span>
    <span class="n">page</span><span class="o">.</span><span class="n">should</span> <span class="c1"># fill in</span>
    <span class="n">click_link</span> <span class="s2">"Contact"</span>
    <span class="n">page</span><span class="o">.</span><span class="n">should</span> <span class="c1"># fill in</span>
    <span class="n">click_link</span> <span class="s2">"Home"</span>
    <span class="n">page</span><span class="o">.</span><span class="n">should</span> <span class="c1"># fill in</span>
    <span class="n">click_link</span> <span class="s2">"Sign up now!"</span>
    <span class="n">page</span><span class="o">.</span><span class="n">should</span> <span class="c1"># fill in</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div></div>




<div class="navigation">  <a class="prev_page" href="http://ruby.railstutorial.org/chapters/rails-flavored-ruby?version=3.2#top">
    «&nbsp;<span class="number">Chapter 4</span> Rails-flavored Ruby
  </a>
  <a class="next_page" href="http://ruby.railstutorial.org/chapters/modeling-users?version=3.2#top">
    <span class="number">Chapter 6</span> Modeling users&nbsp;»
  </a>
</div><div class="footnotes">
<ol>
<li id="fn:5.1">The mockups in the <em>Ruby on Rails Tutorial</em> are made with an excellent online mockup application called <a href="http://gomockingbird.com/">Mockingbird</a>.&nbsp;<a class="arrow" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fnref:5.1">↑</a></li>
<li id="fn:5.2">These are completely unrelated to Ruby classes.&nbsp;<a class="arrow" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fnref:5.2">↑</a></li>
<li id="fn:5.3">You might notice that the <code>img</code> tag, rather than looking like <tt class="verb">&lt;img&gt;...&lt;/img&gt;</tt>, instead looks like <tt class="verb">&lt;img ... /&gt;</tt>. Tags that follow this form are known as <em>self-closing</em> tags.&nbsp;<a class="arrow" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fnref:5.3">↑</a></li>
<li id="fn:5.4">The <code>alt</code> text is also what will be displayed
 by screen readers for the visually impaired. Though people are 
sometimes sloppy about including the <code>alt</code> attribute for images, it is in fact required by the HTML standard. Luckily, Rails includes a default <code>alt</code> attribute; if you don’t specify the attribute in the call to <code>image_tag</code>, Rails just uses the image filename (minus extension). In this case, though, <code>Sample App</code> is more descriptive than <code>logo</code>, so I’ve elected to set the <code>alt</code> text explicitly.&nbsp;<a class="arrow" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fnref:5.4">↑</a></li>
<li id="fn:5.5">Note that Safari and Chrome users will see an indicator of a broken image in place of the “Sample App” alt text.&nbsp;<a class="arrow" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fnref:5.5">↑</a></li>
<li id="fn:5.6">HTML colors can be coded with three base-16 
(hexadecimal) numbers, one each for the primary colors red, green, and 
blue. The code <code>#fff</code> maxes out all three colors, yielding pure white, but the CSS standard defines <code>white</code> as a synonym. See this <a href="http://www.w3schools.com/html/html_colors.asp">HTML colors</a> site for more information.&nbsp;<a class="arrow" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fnref:5.6">↑</a></li>
<li id="fn:5.7">Blueprint CSS uses a grid of columns 40 pixels across, 
30 pixels for the column itself and 10 pixels of padding. The rightmost 
column doesn’t need padding, so 18 columns is 710 pixels: 18 * 40 – 10 =
 710.&nbsp;<a class="arrow" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fnref:5.7">↑</a></li>
<li id="fn:5.8">Many Rails developers use a <code>shared</code> directory for partials shared across different views. I prefer to use the <code>shared</code>
 folder for utility partials that are useful on multiple views, while 
putting partials that are literally on every page (as part of the site 
layout) in the <code>layouts</code> directory. (We’ll create the <code>shared</code> directory starting in <a class="ref" href="http://ruby.railstutorial.org/chapters/sign-up?version=3.2#top">Chapter&nbsp;7</a>.) That seems to me a logical division, but putting them all in the <code>shared</code> folder certainly works fine, too.&nbsp;<a class="arrow" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fnref:5.8">↑</a></li>
<li id="fn:5.9">The structure of this section is based on the excellent blog post <a href="http://2beards.net/2011/11/the-rails-3-asset-pipeline-in-about-5-minutes/">The Rails 3 Asset Pipeline in (about) 5 Minutes</a> by Michael Erasmus.&nbsp;<a class="arrow" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fnref:5.9">↑</a></li>
<li id="fn:5.10">The older <code>.sass</code> format, also supported by 
Sass, defines a new language which is less verbose (and has fewer curly 
braces) but is less convenient for existing projects and is harder to 
learn for those already familiar with CSS.&nbsp;<a class="arrow" href="http://ruby.railstutorial.org/chapters/filling-in-the-layout?version=3.2#fnref:5.10">↑</a></li>
</ol>
</div>





    </div>
  <div id="book_bottom">
  </div>
</div>
        
        </div>  
      </div>
 
    <div id="container-bottom"></div>
    
<div class=" fb_reset" id="fb-root"><script async="" src="filling-in-the-layout_files/all.js" type="text/javascript"></script><div style="position: absolute; top: -10000px; height: 0pt; width: 0pt;"><div><iframe src="filling-in-the-layout_files/oauth.html" class="FB_UI_Hidden" style="border: medium none; overflow: hidden; height: 240px; width: 575px;" name="fd80c77079a5ba" id="f2f30043315fc22" scrolling="no"></iframe></div></div></div>
<script>
  window.fbAsyncInit = function() {
    FB.init({appId: '145973438749643', status: true, cookie: true,
             xfbml: true});
  };
  (function() {
    var e = document.createElement('script');
    e.type = 'text/javascript';
    e.src = document.location.protocol +
      '//connect.facebook.net/en_US/all.js';
    e.async = true;
    document.getElementById('fb-root').appendChild(e);
  }());
</script>

  
      <script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script><script src="filling-in-the-layout_files/ga.js" type="text/javascript"></script>
  <script type="text/javascript">
  try {
  var pageTracker = _gat._getTracker("UA-8667566-1");
  pageTracker._trackPageview();
  } catch(err) {}</script>

  
  
  </div>

</body></html>